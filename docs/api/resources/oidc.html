<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
  <script>
    var searchDomain = 'https://developer.okta.com';
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/bwf-loadingb/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');

      // START Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TJ45R6');
      // END Google Tag Manager

      // Start Heap Analytics
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
      heap.load("3356162945");
      // End Heap Analytics
    }
  </script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
   

  <link type="text/css" rel="stylesheet" href="https://developer.okta.com/sites/all/themes/developer/css/master.css" media="all" />
  <meta class="swiftype" name="title" data-type="string" content="OpenID Connect & OAuth 2.0 API | Okta Developer">
  <meta class="swiftype" name="summary" data-type="string" content="OpenID Connect &amp; OAuth 2.0 API" />

  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-914cad2dd6d069302444327ce911da52da68a3c68755f66cf5a4e92b9a38f3eb.css">
  
  
  <title>OpenID Connect & OAuth 2.0 API | Okta Developer</title>
  <meta name="description" content="OpenID Connect &amp; OAuth 2.0 API">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/manifest.json">
  <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#21313a">
  <meta name="msapplication-config" content="/assets/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
</head>

<body>
  <div class="Page openid-connect-&-oauth-2.0-api Page--docs-page">
    <!-- START Header -->
    




<header class="Header is-fixed">

  <div class="Wrap">

    <a class="Logo" href="https://developer.okta.com">
      <svg version="1.1" id="OktaLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 431.9 151.4" style="enable-background:new 0 0 431.9 151.4;" xml:space="preserve"><g><g><g><path d="M102.2,41.4c-21,0-38.1,17.1-38.1,38.1s17.1,38.1,38.1,38.1s38.1-17.1,38.1-38.1l0,0C140.3,58.5,123.2,41.4,102.2,41.4z M102.2,98.5c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19c0.1,10.5-8.4,19-18.9,19.1C102.3,98.6,102.2,98.6,102.2,98.5L102.2,98.5z"/><path d="M169.1,92.3c0-1.9,1.5-3.4,3.4-3.4c0.9,0,1.8,0.4,2.4,1c9.5,9.7,25.3,26.3,25.4,26.4c0.4,0.5,0.8,0.8,1.4,0.9l1.6,0.2h17.2c1.8,0,3.3-1.4,3.4-3.2c0-0.8-0.3-1.5-0.8-2.2l-28.6-29.2l-1.5-1.5c-3.2-3.9-2.9-5.4,0.8-9.3l22.6-25.1c1.1-1.4,0.8-3.5-0.6-4.6c-0.6-0.4-1.3-0.7-2-0.7h-17c-0.6,0.2-1.1,0.5-1.5,0.9L175,64.4c-1.3,1.4-3.4,1.5-4.8,0.2c-0.7-0.6-1.1-1.5-1.1-2.5V18.9c0-1.7-1.3-3-3-3c-0.1,0-0.2,0-0.3,0h-12.7c-2.2,0-3.3,1.5-3.3,2.8v95.8c0,2.2,1.8,2.8,3.3,2.8h12.7c1.7,0.1,3.2-1.2,3.3-2.9c0,0,0,0,0,0V92.3z"/><path d="M273,114l-1.4-12.8c-0.2-1.7-1.7-2.9-3.4-2.7c0,0,0,0-0.1,0l-2.9,0.2c-10.1,0-18.5-7.9-19-18c0-0.3,0-0.7,0-1V64.2c-0.1-2,1.5-3.6,3.5-3.7c0,0,0,0,0,0h17c1.7-0.1,3.1-1.5,3-3.2c0,0,0-0.1,0-0.1v-12c0-2.3-1.5-3.6-2.8-3.6h-17.1c-1.9,0.1-3.5-1.5-3.6-3.4c0,0,0,0,0,0V18.9c-0.1-1.7-1.5-3.1-3.2-3c0,0-0.1,0-0.1,0h-12.7c-1.6-0.1-3,1.1-3.1,2.7c0,0.1,0,0.1,0,0.2c0,0,0,61.7,0,62c0.5,21,17.9,37.6,38.9,37c1.4,0,2.9-0.2,4.3-0.3C272,117.2,273.2,115.7,273,114z"/></g><path d="M364.7,98c-10.8,0-12.4-3.8-12.4-18.3l0,0V44.8c0-1.8-1.4-3.2-3.2-3.2c0,0-0.1,0-0.1,0h-12.8c-1.8,0-3.2,1.4-3.3,3.2v1.6C314.6,36,291.3,42.5,281,60.8c-10.4,18.3-3.9,41.6,14.4,51.9c14,7.9,31.4,6.2,43.5-4.2c3.6,5.5,9.3,9.1,18.3,9.1c1.5,0,9.7,0.3,9.7-3.5v-13.6C367,99.2,366,98.1,364.7,98z M314.2,98.6c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19l0,0C333.2,90.1,324.7,98.6,314.2,98.6z"/></g><path d="M19.4,74c2.2-1.9,4.1-4.1,5.7-6.6c3.5-5.3,5.4-11.5,5.2-17.9V27c0-4.9,0.9-8.4,2.7-10.5c1.8-2.1,4.8-3,9.2-3h12.6c1.2,0,2.1-0.9,2.2-2.1l0,0V2.2C57,1,56,0,54.8,0c0,0,0,0,0,0H41.5c-7.8,0-12.9,2.1-18,7.6s-7.1,12.3-7.1,21.7v14.2c0,2.2-0.1,4-0.2,5.7v2.2c-0.5,3.2-1.8,6.2-3.6,8.9C9.4,64.7,5.1,70.9,0.9,74l0,0l-0.3,0.3l0,0l-0.2,0.3H0.2v0.3l0,0c-0.1,0.3-0.1,0.7,0,1l0,0v0.3h0.1l0.2,0.3l0,0l0.3,0.3l0,0c4.2,3.1,8.5,9.3,11.3,13.7c1.8,2.7,3.1,5.7,3.6,8.9v2.2c0.1,1.6,0.2,3.5,0.2,5.7v14.3c0,9.4,2.4,16.7,7.1,21.7s10.2,7.6,18,7.6h13.8c1.2,0,2.2-1,2.2-2.2V140l0,0c0-1.2-1-2.2-2.2-2.2H42.2c-4.4,0-7.5-1-9.2-3s-2.7-5.6-2.7-10.5v-22.4c0.2-6.4-1.7-12.6-5.2-17.9c-1.6-2.5-3.5-4.7-5.7-6.6l0,0c-0.9-0.7-1.1-2-0.4-2.9C19.2,74.3,19.3,74.2,19.4,74L19.4,74z"/><path d="M412.5,74c-2.2-1.9-4.1-4.1-5.7-6.6c-3.5-5.3-5.4-11.5-5.2-17.9V27c0-4.9-0.9-8.4-2.7-10.5s-4.8-3-9.2-3h-12.6c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0l0,0V2.2c0-1.2,1-2.2,2.2-2.2c0,0,0,0,0,0h13.4c7.8,0,12.9,2.1,18,7.6s7.1,12.3,7.1,21.7v14.2c0,2.2,0.1,4,0.2,5.7v2.2c0.5,3.2,1.8,6.2,3.6,8.9c2.8,4.5,7.1,10.7,11.3,13.7l0,0l0.3,0.3l0,0l0.2,0.3h0.1v0.3l0,0c0.1,0.3,0.1,0.7,0,1l0,0v0.3h-0.1l-0.2,0.3l0,0l-0.3,0.3l0,0c-4.2,3.1-8.5,9.3-11.3,13.7c-1.8,2.7-3.1,5.7-3.6,8.9v2.2c-0.1,1.6-0.2,3.5-0.2,5.7v14.3c0,9.4-2.4,16.7-7.1,21.7s-10.2,7.6-18,7.6h-13.4c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0V140l0,0c0-1.2,1-2.2,2.2-2.2l0,0h12.7c4.4,0,7.5-1,9.2-3s2.7-5.6,2.7-10.5v-22.4c-0.2-6.3,1.6-12.6,5.1-17.9c1.6-2.5,3.5-4.7,5.7-6.6l0,0c0.9-0.7,1.1-2,0.4-2.9C412.7,74.3,412.6,74.2,412.5,74L412.5,74z"/></g></svg>
    </a>

    <nav class="Header-nav PrimaryNav">
      <ul class="menu">
        <li class="first expanded">
          <a href="https://developer.okta.com/product/">Product</a>
          <ul class="menu">
            <li class="first leaf"><a href="https://developer.okta.com/product/">Overview</a></li>
            <li class="leaf"><a href="https://developer.okta.com/product/authentication/">Authentication</a></li>
            <li class="leaf"><a href="https://developer.okta.com/product/authorization/">Authorization</a></li>
            <li class="last leaf"><a href="https://developer.okta.com/product/user-management/">User Management</a></li>
          </ul>
        </li>
        <li class="leaf">
          <a href="https://developer.okta.com/pricing/">Pricing</a>
        </li>
        <li class="leaf">
          <a href="/blog/">Blog</a>
        </li>
        <li class="leaf">
          <a href="/documentation/" class="active">Docs</a>
        </li>
        <li class="last expanded">
          <span class="nolink">Support</span>
          <ul class="menu">
            <li class="first leaf"><a href="https://devforum.okta.com/">Okta Developer Forums</a></li>
            <li class="last leaf"><a href="mailto:developers@okta.com">developers@okta.com</a></li>
          </ul>
        </li>
      </ul>
      <a class="PrimaryNav-toggle" href="#">
        <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g class="MenuIcon" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
                <path d="M1,16 L19,16" class="MenuIcon-line1" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,4 L19,4" class="MenuIcon-line2" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,10 L19,10" class="MenuIcon-line3" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,10 L19,10" class="MenuIcon-line4" stroke="#FFFFFF" stroke-width="2"></path>
            </g>
        </svg>
        <svg class="CloseIcon" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="ALl-Boards" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Desktop" transform="translate(-915.000000, -235.000000)" fill="#FFFFFF">
              <g id="Search-bar-Active" transform="translate(30.000000, 26.000000)">
                <polygon id="Icon/Cross" points="901 210.6 899.4 209 893 215.4 886.6 209 885 210.6 891.4 217 885 223.4 886.6 225 893 218.6 899.4 225 901 223.4 894.6 217"></polygon>
              </g>
            </g>
          </g>
        </svg>
      </a>

      <div class="PrimaryNav-cta">
        <a target="_blank" rel="noopener noreferrer" href="https://login.okta.com/?SAMLRequest=fc%2B7CsJAEAXQXvAflu1NNJUMeZBGELTx1a%2FrYILJTtyZGD%2FfSBRiYzlw77lMnD3rSj3Qc0ku0YtgrhU6S5fSXRN9PKxmS52l00nMpq6iBvJWCrfDe4ss6vStRe9aDzmGIZfo1jsgwyWDMzUyiIV9vt1AH4XGk5ClSvewUgMNa%2BYW%2FVj5jxhm9NLP67QQaSAMu64L6CYmsFSHlnzT4ZlLwTgcL6Sf8%2FeX9AU%3Dhttps://login.okta.com/?SAMLRequest=fc%2B7CsJAEAXQXvAflu1NNJUMeZBGELTx1a%2FrYILJTtyZGD%2FfSBRiYzlw77lMnD3rSj3Qc0ku0YtgrhU6S5fSXRN9PKxmS52l00nMpq6iBvJWCrfDe4ss6vStRe9aDzmGIZfo1jsgwyWDMzUyiIV9vt1AH4XGk5ClSvewUgMNa%2BYW%2FVj5jxhm9NLP67QQaSAMu64L6CYmsFSHlnzT4ZlLwTgcL6Sf8%2FeX9AU%3D" class="Button--redOutline">Login</a>
        <a href="https://developer.okta.com/signup/" class="Button--red">Sign up</a>
      </div>

      <a class="SearchIcon" href="#"></a>
      <form id="form_search" class="SearchBar Formisimo_clocked_69929" method="get" action="https://developer.okta.com/search/" name="form_search" __bizdiag="-784164280" __biza="WJ__">
        <input type="text" name="stq" autocomplete="off" id="st-search-input-auto" class="st-search-input" placeholder="Search">
        <input type="submit" name="submit" value="GO">
      </form>

    </nav>

  </div>

</header>

    <!-- END Header -->
     <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar --><aside class="Sidebar">
  <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h2>
  <div class="Sidebar-close Sidebar-toggle"></div>
  <div>
    <h3 class="Sidebar-title"><a href = "/authentication-guide/">Authentication Guide</a></h3>
    <ul class="Sidebar-nav">
      <li>
        <a href = "/authentication-guide/auth-overview/">OAuth 2.0 Overview</a>
        
      </li>
      <li>
        <a href = "/authentication-guide/implementing-authentication/">Implementing OAuth 2.0</a>
        
      </li>
      <li>
      <a href = "/authentication-guide/social-login/">Social Login</a>
      
      </li>
      <li>
      <a href = "/authentication-guide/saml-login/">SAML Login</a>
      
      </li>
      <li>
      <a href = "/authentication-guide/tokens/">Working With Tokens</a>
      
      </li>
      <!--
      <li>
      <a href = "/authentication-guide/custom-login/">Customizing Login</a>
      
      </li>
    -->
    </ul>

    <h3 class="Sidebar-title">Use Cases</h3>
    <ul class="Sidebar-nav">
      <li>
        <a href="/use_cases/authentication/">Authentication</a>
      </li>
      <li>
        <a href="/use_cases/mfa/">Multi-Factor Authentication</a>
      </li>
      <li>
        <a href="/use_cases/api_access_management/">API Access Management</a>
      </li>
      <li>
        <a href="/use_cases/integrate_with_okta/">Integrate with Okta</a>
      </li>
      <li>
        <a href="/use_cases/relationships/">Relationships with Linked Objects</a>
      </li>
    </ul>

    <h3 class="Sidebar-title">Reference</h3>
    <ul class="Sidebar-nav">
      <li>
        <a href="/docs/api/getting_started/api_test_client">Getting Started</a>
      </li>
      <li>
        <a href="/docs/api/resources/authn">Authentication API</a>
        <ul id="Sidebar_References" class="Sidebar-hide">
          <li><a href="/docs/api/resources/authn">Authentication</a></li>
          <li class="is-active"><a href="/docs/api/resources/oidc">OpenID Connect & OAuth 2.0 API</a></li>
          <li><a href="/docs/api/resources/sessions">Sessions</a></li>
        </ul>
      </li>
      <li>
        <a href="/docs/api/resources/apps">Management API</a>
        <ul id="Sidebar_Resources" class="Sidebar-hide">
          <li><a href="/docs/api/resources/authorization-servers">Authorization Servers</a></li>
          <li><a href="/docs/api/resources/apps">Apps</a></li>
          <li><a href="/docs/api/resources/events">Events</a></li>
          <li><a href="/docs/api/resources/oauth-clients">Dynamic Client Registration</a></li>
          <li><a href="/docs/api/resources/factors">Factors</a></li>
          <li><a href="/docs/api/resources/groups">Groups</a></li>
          <li><a href="/docs/api/resources/idps">Identity Providers</a></li>
          <li><a href="/docs/api/resources/linked-objects">Linked Objects</a></li>
          <li><a href="/docs/api/resources/policy">Policy</a></li>
          <li><a href="/docs/api/resources/roles">Administrator Roles</a></li>
          <li><a href="/docs/api/resources/schemas">Schemas</a></li>
          <li><a href="/docs/api/resources/system_log">System Log</a></li>
          <li><a href="/docs/api/resources/templates">Templates</a></li>
          <li><a href="/docs/api/resources/trusted-origins">Trusted Origins</a></li>
          <li><a href="/docs/api/resources/users">Users</a></li>
          <li><a href="/docs/api/resources/zones">Zones</a></li>
        </ul>
      </li>
      <li>
        <a href="/reference/error_codes/">Error Codes</a>
      </li>
      <li>
        <a href="/reference/okta_expression_language/">Okta Expression Language</a>
      </li>
      <li>
        <a href="/docs/change-log/index.html">Change Log</a>
      </li>
    </ul>

    <h3 class="Sidebar-title">How-To</h3>
    <ul class="Sidebar-nav">
      
      
      <li>
        <a href="/docs/how-to/byo_saml">Upload Your Own Certificates for Outbound SAML Apps</a>
      </li>
      
      <li>
        <a href="/docs/how-to/creating-token-with-groups-claim">Create an ID Token or Access Token Containing a Groups Claim</a>
      </li>
      
      <li>
        <a href="/docs/how-to/sharing-cert">Share Application Key Credentials for IdPs Across Apps</a>
      </li>
      
      <li>
        <a href="/docs/how-to/updating_saml_cert">Upgrade SAML Apps to SHA256</a>
      </li>
      
    </ul>

    <h3 class="Sidebar-title">Standards</h3>
    <ul class="Sidebar-nav">
      
      
      
      <li>
        <a href="/standards/OAuth/">OAuth 2.0 and Okta</a>
      </li>
      
      
      <li>
        <a href="/standards/OIDC/">OpenID Connect and Okta</a>
      </li>
      
      
      <li>
        <a href="/standards/SAML/">SAML</a>
      </li>
      
      
      
      
      <li>
        <a href="/standards/SCIM/">SCIM Provisioning with Lifecycle Management</a>
      </li>
      
    </ul>

    <script>
      if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
        document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
      }

      if (document.querySelectorAll("#Sidebar_References .is-active").length) {
        document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
      }
    </script>
  </div>
</aside>
<!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/source/_source/_docs/api/resources/oidc.md" data-proofer-ignore>Edit Page</a>
      <h1 id="openid-connect--oauth-20-api">OpenID Connect &amp; OAuth 2.0 API</h1>

<p>Okta is a standards-compliant <a href="http://oauth.net/documentation">OAuth 2.0</a> authorization server and a certified <a href="http://openid.net/certification">OpenID Connect Provider</a>.</p>

<p>OpenID Connect extends OAuth 2.0. The OAuth 2.0 protocol provides API security via scoped access tokens, and OpenID Connect provides user authentication and single sign-on (SSO) functionality.</p>

<p>This page contains detailed information about the OAuth 2.0 / OpenID Connect endpoints that Okta exposes on its authorization servers. For higher-level information about how to use this endpoints, see the <a href="/authentication-guide/">Okta Authentication Guide</a>.</p>

<h2 id="endpoints">Endpoints</h2>

<table>
  <thead>
    <tr>
      <th>Endpoint</th>
      <th>Use</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#authorize">/authorize</a></td>
      <td>Interact with the resource owner and obtain an authorization grant.</td>
    </tr>
    <tr>
      <td><a href="#token">/token</a></td>
      <td>Obtain an access and/or ID token by presenting an authorization grant or refresh token.</td>
    </tr>
    <tr>
      <td><a href="#introspect">/introspect</a></td>
      <td>Returns information about a token.</td>
    </tr>
    <tr>
      <td><a href="#revoke">/revoke</a></td>
      <td>Revokes an access or refresh token.</td>
    </tr>
    <tr>
      <td><a href="#logout">/logout</a></td>
      <td>Ends the session associated with the given ID token.</td>
    </tr>
    <tr>
      <td><a href="#keys">/keys</a></td>
      <td>Returns public keys used to sign responses.</td>
    </tr>
    <tr>
      <td><a href="#userinfo">/userinfo</a></td>
      <td>Returns claims about the authenticated end user.</td>
    </tr>
    <tr>
      <td><a href="#well-knownoauth-authorization-server">/.well-known/oauth-authorization-server</a></td>
      <td>Returns OAuth 2.0 metadata related to the specified authorization server.</td>
    </tr>
    <tr>
      <td><a href="#well-knownopenid-configuration">/.well-known/openid-configuration</a></td>
      <td>Returns OpenID Connect metadata related to the specified authorization server.</td>
    </tr>
  </tbody>
</table>

<h3 id="composing-your-base-url">Composing Your Base URL</h3>

<p>All of the endpoints on this page start with an authorization server, however the URL for that server will vary depending on the endpoint and the type of authorization server. You have two types of authorization servers to choose from, depending on your use case:</p>

<h4 id="1-single-sign-on-to-okta">1. Single sign-on to Okta</h4>

<p>This is for the use case where your users are all part of your Okta organization and you would just like to offer them single sign-on with an ID token. In this case Okta is your authorization server, which we refer to as the “Okta Org Authorization Server” and your full URL looks like this:</p>

<p><code class="highlighter-rouge"><span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/v1/authorize</code></p>

<h4 id="2-okta-as-the-identity-platform-for-your-app-or-api">2. Okta as the identity platform for your app or API</h4>

<p>This is for use cases where Okta is the identity and authorization platform for your application or API, so your users will be logging in to something other than Okta. In this case you are using a Custom Authorization Server inside Okta, and your full URL looks like this:</p>

<p><code class="highlighter-rouge"><span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}/v1/authorize</code></p>

<p>If you have a developer account, you can use the <code class="highlighter-rouge">default</code> authorization server that was created along with your account, in which case the full URL looks like this:</p>

<p><code class="highlighter-rouge"><span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/default/v1/authorize</code></p>

<h3 class="api api-operation" id="authorize">/authorize</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> <strong>${baseUrl}</strong>/v1/authorize</span></p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. For more information, see <a href="#composing-your-base-url">Composing Your Base URL</a>.</p>
</blockquote>

<p>This is a starting point for browser-based OpenID Connect flows such as the implicit and authorization code flows. This request
authenticates the user and returns tokens along with an authorization grant to the client application as a part
of the callback response.</p>

<h4 class="api api-request api-request-params" id="request-parameters">Request Parameters</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Param Type</th>
      <th style="text-align: left">DataType</th>
      <th style="text-align: left">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">client_id</td>
      <td style="text-align: left">Obtained during either manual client registration or via the <a href="oauth-clients.html">Dynamic Client Registration API</a>. It identifies the client and must match the value preregistered in Okta.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: left">code_challenge</td>
      <td style="text-align: left">A challenge for <a href="/authentication-guide/implementing-authentication/auth-code-pkce">PKCE</a>. The challenge is verified in the access token request.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">code_challenge_method</td>
      <td style="text-align: left">Method used to derive the code challenge for <a href="/authentication-guide/implementing-authentication/auth-code-pkce">PKCE</a>. Valid value: <code class="highlighter-rouge">S256</code></td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">display</td>
      <td style="text-align: left">How to display the authentication and <a href="/docs/api/resources/apps#add-oauth-20-client-application">consent</a> UI. Valid value: <code class="highlighter-rouge">page</code></td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">idp_scope</td>
      <td style="text-align: left">A space delimited list of scopes to be provided to the Social Identity Provider when performing <a href="social_authentication.html">Social Login</a>. These scopes are used in addition to the scopes already configured on the Identity Provider.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left"><a href="idps.html">idp</a></td>
      <td style="text-align: left">Identity provider (default is Okta, unless you are using <a href="/authentication-guide/social-login/">Social Login</a> or enterprise SAML)</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">login_hint</td>
      <td style="text-align: left">A username to prepopulate if prompting for authentication.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">max_age</td>
      <td style="text-align: left">Allowable elapsed time, in seconds, since the last time the end user was actively authenticated by Okta.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">nonce</td>
      <td style="text-align: left">A value that will be returned in the ID token. It is used to mitigate replay attacks.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: left">prompt</td>
      <td style="text-align: left">Either <code class="highlighter-rouge">none</code> or <code class="highlighter-rouge">login</code>. See <a href="#parameter-details">Parameter Details</a> for more.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">redirect_uri</td>
      <td style="text-align: left">Callback location where the authorization code or tokens should be sent. It must match the value preregistered in Okta during client registration.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: left">response_type</td>
      <td style="text-align: left">Any combination of <code class="highlighter-rouge">code</code>, <code class="highlighter-rouge">token</code>, and <code class="highlighter-rouge">id_token</code>. The combination determines the <a href="/authentication-guide/implementing-authentication/">flow</a>.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: left">response_mode</td>
      <td style="text-align: left">How the authorization response should be returned. <a href="#parameter-details">Valid values</a>: <code class="highlighter-rouge">fragment</code>, <code class="highlighter-rouge">form_post</code>, <code class="highlighter-rouge">query</code> or <code class="highlighter-rouge">okta_post_message</code>. If <code class="highlighter-rouge">id_token</code> or <code class="highlighter-rouge">token</code> is specified as the response type, then <code class="highlighter-rouge">query</code> isn’t allowed as a response mode. Defaults to <code class="highlighter-rouge">fragment</code> in implicit and hybrid flows. If using the authorization code flow, this cannot be set to <code class="highlighter-rouge">okta_post_message</code> and if not specified the default value is <code class="highlighter-rouge">query</code>.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">request</td>
      <td style="text-align: left">A JWT created by the client that enables requests to be passed as a single, self-contained parameter. See <a href="#parameter-details">Parameter Details</a> for more.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">JWT</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">scope</td>
      <td style="text-align: left"><code class="highlighter-rouge">openid</code> is required for authentication requests. Other <a href="#access-token-scopes-and-claims">scopes</a> may also be included.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: left">sessionToken</td>
      <td style="text-align: left">Okta one-time session token. This allows an API-based user login flow (rather than Okta login UI). Session tokens can be obtained via the <a href="authn.html">Authentication API</a>.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">state</td>
      <td style="text-align: left">A value to be returned in the token. The client application can use it to remember the state of its interaction with the end user at the time of the authentication call. It can contain alphanumeric, comma, period, underscore and hyphen characters. See <a href="#parameter-details">Parameter Details</a>.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">TRUE</td>
    </tr>
  </tbody>
</table>

<h4 id="parameter-details">Parameter Details</h4>

<ul>
  <li><code class="highlighter-rouge">idp</code>, <code class="highlighter-rouge">sessionToken</code> and <code class="highlighter-rouge">idp_scope</code> are Okta extensions to <a href="http://openid.net/specs/openid-connect-core-1_0.html#Authentication">the OpenID specification</a>.
 All other parameters comply with the OpenID Connect specification and their behavior is consistent with the specification.</li>
</ul>

<p><code class="highlighter-rouge">prompt</code>:</p>

<p>There are three possible values for this parameter:</p>

<ol>
  <li>Null (no <code class="highlighter-rouge">prompt</code> parameter): Normal behavior. If an Okta session already exists, the user is silently authenticated. Otherwise, the user is prompted to authenticate.</li>
  <li><code class="highlighter-rouge">none</code>: Do not prompt for authentication. If an Okta session already exists, the user is silently authenticated. Otherwise, an error is returned.</li>
  <li><code class="highlighter-rouge">login</code>: Always prompt the user for authentication, regardless of whether they have an Okta session.</li>
</ol>

<p><code class="highlighter-rouge">request</code>:</p>

<ul>
  <li>You must sign the JWT using the app’s client secret.</li>
  <li>The JWT can’t be encrypted.</li>
  <li>Okta supports these signing algorithms: <a href="https://tools.ietf.org/html/rfc7518#section-5.2.3">HS256</a>, <a href="https://tools.ietf.org/html/rfc7518#section-5.2.4">HS384</a>, and <a href="https://tools.ietf.org/html/rfc7518#section-5.2.5">HS512</a>.</li>
  <li>We recommend you don’t duplicate any request parameters in both the JWT and the query URI itself. However, you can do so with <code class="highlighter-rouge">state</code>, <code class="highlighter-rouge">nonce</code>, <code class="highlighter-rouge">code_challenge</code>, and <code class="highlighter-rouge">code_challenge_method</code>. In those cases, the values in the query URI will override the JWT values.</li>
  <li>Okta validates the <code class="highlighter-rouge">request</code> parameter in the following ways:
    <ol>
      <li><code class="highlighter-rouge">iss</code> is required and must  be the <code class="highlighter-rouge">client_id</code>.</li>
      <li><code class="highlighter-rouge">aud</code> is required and must be same value as the authorization server issuer that mints the ID or access token. This value is published in the metadata for your authorization server.</li>
      <li>JWT lifetime is evaluated using the <code class="highlighter-rouge">iat</code> and <code class="highlighter-rouge">exp</code> claims if present. If the JWT is expired or not yet valid, Okta returns an <code class="highlighter-rouge">invalid_request_object</code>  error.</li>
      <li>Okta rejects the JWT if the <code class="highlighter-rouge">jti</code> claim is present and it has already been processed.</li>
    </ol>
  </li>
</ul>

<p><code class="highlighter-rouge">response_mode</code>:</p>

<p>Each value for <code class="highlighter-rouge">response_mode</code> delivers different behavior:</p>
<ul>
  <li><code class="highlighter-rouge">fragment</code> - Parameters are encoded in the URL fragment added to the <code class="highlighter-rouge">redirect_uri</code> when redirecting back to the client.</li>
  <li><code class="highlighter-rouge">query</code> - Parameters are encoded in the query string added to the <code class="highlighter-rouge">redirect_uri</code> when redirecting back to the client.</li>
  <li><code class="highlighter-rouge">form_post</code> - Parameters are encoded as HTML form values (<code class="highlighter-rouge">application/x-www-form-urlencoded</code> format) and are transmitted via the HTTP POST method to the client.</li>
  <li>
    <p><code class="highlighter-rouge">okta_post_message</code> - Uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage">HTML5 Web Messaging</a> (for example, window.postMessage()) instead of the redirect for the authorization response from the <code class="highlighter-rouge">/authorize</code> endpoint.</p>

    <p><code class="highlighter-rouge">okta_post_message</code> is an adaptation of the <a href="https://tools.ietf.org/html/draft-sakimura-oauth-wmrm-00#section-4.1">Web Message Response Mode</a>.
  This value provides a secure way for a single-page application to perform a sign-in flow
  in a popup window or an iFrame and receive the ID token and/or access token back in the parent page without leaving the context of that page.
  The data model for the postMessage call is in the next section.</p>
  </li>
  <li>The <code class="highlighter-rouge">Referrer-Policy</code> header is automatically included in the request for <code class="highlighter-rouge">fragment</code> or <code class="highlighter-rouge">query</code>, and is set to <code class="highlighter-rouge">Referrer-Policy: no-referrer</code>.</li>
</ul>

<p><code class="highlighter-rouge">state</code>:</p>

<p>Okta requires the OAuth 2.0 <code class="highlighter-rouge">state</code> parameter on all requests to the <code class="highlighter-rouge">/authorize</code> endpoint in order to prevent cross-site request forgery (CSRF).
 The OAuth 2.0 specification <a href="https://tools.ietf.org/html/rfc6749#section-10.12">requires</a> that clients protect their redirect URIs against CSRF by sending a value in the authorize request which binds the request to the user-agent’s authenticated state.
 Using the <code class="highlighter-rouge">state</code> parameter is also a countermeasure to several other known attacks as outlined in <a href="https://tools.ietf.org/html/rfc6819">OAuth 2.0 Threat Model and Security Considerations</a>.</p>

<h4 id="postmessage-data-model">postMessage() Data Model</h4>

<p>Use the postMessage() data model to help you when working with the <code class="highlighter-rouge">okta_post_message</code> value of the <code class="highlighter-rouge">response_mode</code> request parameter.</p>

<p><code class="highlighter-rouge">message</code>:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">DataType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">access_token</td>
      <td style="text-align: left">An <a href="#access-token">access token</a>. This is returned if the <code class="highlighter-rouge">response_type</code> included a token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">error</td>
      <td style="text-align: left">The error-code string providing information if anything goes wrong.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">error_description</td>
      <td style="text-align: left">Additional description of the error (if relevant).</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">id_token</td>
      <td style="text-align: left">The ID token JWT contains the details of the authentication event and the claims corresponding to the requested scopes. This is returned if the <code class="highlighter-rouge">response_type</code> includes <code class="highlighter-rouge">id_token</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">state</td>
      <td style="text-align: left">If the request contained a <code class="highlighter-rouge">state</code> parameter, then the same unmodified value is returned back in the response.</td>
      <td style="text-align: left">String</td>
    </tr>
  </tbody>
</table>

<p><code class="highlighter-rouge">targetOrigin</code>:</p>

<p>Specifies what the origin of <code class="highlighter-rouge">parentWindow</code> must be in order for the postMessage() event to be dispatched
(this is enforced by the browser). The <code class="highlighter-rouge">okta-post-message</code> response mode always uses the origin from the <code class="highlighter-rouge">redirect_uri</code>
specified by the client. This is crucial to prevent the sensitive token data from being exposed to a malicious site.</p>

<h4 id="response-properties">Response Properties</h4>

<p>Irrespective of the response type, the contents of the response are as described in the table.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">DataType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">access_token</td>
      <td style="text-align: left">An <a href="#access-token">access token</a>. This is returned if <code class="highlighter-rouge">response_type</code> includes <code class="highlighter-rouge">token</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">code</td>
      <td style="text-align: left">An opaque value that can be used to redeem tokens from the <a href="#token">token endpoint</a>. <code class="highlighter-rouge">code</code> is returned if the <code class="highlighter-rouge">response_type</code> includes <code class="highlighter-rouge">code</code>. The code has a lifetime of 60 seconds.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">error</td>
      <td style="text-align: left">Error-code (if something went wrong).</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">error_description</td>
      <td style="text-align: left">Description of the error.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">expires_in</td>
      <td style="text-align: left">Number of seconds until the <code class="highlighter-rouge">access_token</code> expires. This is only returned if the response included an <code class="highlighter-rouge">access_token</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">id_token</td>
      <td style="text-align: left">JWT that contains the details of the authentication event and the claims corresponding to the requested scopes. This is returned if the <code class="highlighter-rouge">response_type</code> includes <code class="highlighter-rouge">id_token</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">scope</td>
      <td style="text-align: left">Scopes specified in the <code class="highlighter-rouge">access_token</code>. Returned only if the response includes an <code class="highlighter-rouge">access_token</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">state</td>
      <td style="text-align: left">The unmodified <code class="highlighter-rouge">state</code> value from the request.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token_type</td>
      <td style="text-align: left">The token type is always <code class="highlighter-rouge">Bearer</code> and is returned only when <code class="highlighter-rouge">token</code> is specified as a <code class="highlighter-rouge">response_type</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
  </tbody>
</table>

<h5 id="possible-errors">Possible Errors</h5>

<p>These APIs are compliant with the OpenID Connect and OAuth 2.0 spec with some Okta specific extensions.</p>

<p><a href="https://tools.ietf.org/html/rfc6749#section-4.1.2.1">OAuth 2.0 spec error codes</a></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Error Id</th>
      <th style="text-align: left">Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">access_denied</td>
      <td style="text-align: left">The server denied the request.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_client</td>
      <td style="text-align: left">The specified client ID is invalid.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_grant</td>
      <td style="text-align: left">The specified grant is invalid, expired, revoked, or does not match the redirect URI used in the authorization request.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_request</td>
      <td style="text-align: left">The request is missing a necessary parameter or the parameter has an invalid value.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_scope</td>
      <td style="text-align: left">The scopes list contains an invalid or unsupported value.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_token</td>
      <td style="text-align: left">The provided access token is invalid.</td>
    </tr>
    <tr>
      <td style="text-align: left">server_error</td>
      <td style="text-align: left">The server encountered an internal error.</td>
    </tr>
    <tr>
      <td style="text-align: left">temporarily_unavailable</td>
      <td style="text-align: left">The server is temporarily unavailable, but should be able to process the request at a later time.</td>
    </tr>
    <tr>
      <td style="text-align: left">unsupported_response_type</td>
      <td style="text-align: left">The specified response type is invalid or unsupported.</td>
    </tr>
    <tr>
      <td style="text-align: left">unsupported_response_mode</td>
      <td style="text-align: left">The specified response mode is invalid or unsupported. This error is also thrown for disallowed response modes. For example, if the query response mode is specified for a response type that includes <code class="highlighter-rouge">id_token</code>.</td>
    </tr>
  </tbody>
</table>

<p><a href="http://openid.net/specs/openid-connect-core-1_0.html#AuthError">OpenID Connect spec error codes</a></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Error Id</th>
      <th style="text-align: left">Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">insufficient_scope</td>
      <td style="text-align: left">The access token provided does not contain the necessary scopes to access the resource.</td>
    </tr>
    <tr>
      <td style="text-align: left">login_required</td>
      <td style="text-align: left">The request specified that no prompt should be shown but the user is currently not authenticated.</td>
    </tr>
  </tbody>
</table>

<h4 id="request-examples">Request Examples</h4>

<p>This request initiates the authorization code flow, as signaled by <code class="highlighter-rouge">response_type=code</code>. The request returns an authorization code that you can use as the <code class="highlighter-rouge">code</code> parameter in a token request.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://{yourOktaOrg}/oauth2/default/v1/authorize?client_id=0oabucvy
c38HLL1ef0h7&amp;response_type=code&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocal
host%3A8080&amp;state=state-296bc9a0-a2a2-4a57-be1a-d0e2fd9bb601&amp;nonce=g5ly497e8ps'
</code></pre></div></div>

<p>This request does the same thing, but uses the <code class="highlighter-rouge">request</code> parameter to deliver a signed (HS256) JWT that contains all the query parameters:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://{yourOktaOrg}/oauth2/default/v1/authorize?
  request=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJPa3RhIiwiaWF0IjoxNTEyNTE2MjIxLCJleHAiOjE1NDQwNTIyMjEsImF1ZCI6Ind3dy5leGFtcGxlLmNvbSIsInN1YiI6InNqYWNrc29uQGV4YW1wbGUuY29tIiwiRW1haWwiOiJzamFja3NvbkBleGFtcGxlLmNvbSIsInJlc3BvbnNlX3R5cGUiOiJjb2RlIiwicmVzcG9uc2VfbW9kZSI6ImZvcm1fcG9zdCIsInJlZGlyZWN0X3VyaSI6Im15UmVkaXJlY3RVUkkuY29tIiwic3RhdGUiOiJteVN0YXRlIiwibm9uY2UiOiJteU5vbmNlIiwic2NvcGUiOiJvcGVuaWQgb2ZmbGluZV9hY2Nlc3MifQ.TjPy2_nUerULClavBNHcpnO_Pd1DxNEjQCeSW45ALJg"
</code></pre></div></div>

<p>This request initiates the implicit flow, which gets an ID token and access token from the authorization server without the code exchange step. We use the same request as the first example, but with <code class="highlighter-rouge">response_type=id_token token</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://{yourOktaOrg}/oauth2/default/v1/authorize?client_id=0oabv6kx4qq6
h1U5l0h7&amp;response_type=id_token token&amp;scope=openid&amp;redirect_uri=http%3A%2F%2Flocalhost%3
A8080&amp;state=state-296bc9a0-a2a2-4a57-be1a-d0e2fd9bb601&amp;nonce=foo'
</code></pre></div></div>

<h4 id="response-example-success">Response Example (Success)</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXIiOjEsImp0aSI6IkFULm43cUkyS2hnbjFSZkUwbllQbFJod0N6UmU5eElIOUQ1cXFQYzNBNTQzbDQiLCJpc3MiOiJodHRwczovL21pbG  xpd2F5cy5va3RhLmNvbS9vYXV0aDIvYXVzOXVnbGRjbTJ0SFpqdjQwaDciLCJhdWQiOiJodHRwczovL21pbGxpd2F5cy5va3RhLmNvbSIsImlhdCI6MTQ4OTY5Nzk0NSwiZXhwIjoxNDk1MjIxMTQ1LCJjaWQiOiJBeD  VYclI0YU5Ea2pDYWNhSzdobiIsInVpZCI6IjAwdTljcDFqY3R3Ymp0a2tiMGg3Iiwic2NwIjpbIm9wZW5pZCIsIm9mZmxpbmVfYWNjZXNzIl0sInN1YiI6ImZvcmQucHJlZmVjdEBtaWxsaXdheXMuY29tIn0.hb3oS9  2Nb7QmLz2R99SfB_qqTP9GsMCtc2umA2sJwe4"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
  </span><span class="s2">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"openid offline_access"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IJFLydLpLZ7-9spMSePkqgBSTnjBluJIJi6HESG84cE"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIwMHU5Y3AxamN0d2JqdGtrYjBoNyIsInZlciI6MSwiaXNzIjoiaHR0cHM6Ly9taWxsaXdheXMub2t0YS5jb20vb2F1dGgyL2F1czl1Z2  xkY20ydEhaanY0MGg3IiwiYXVkIjoiQXg1WHJSNGFORGtqQ2FjYUs3aG4iLCJpYXQiOjE0ODk2OTc5NDUsImV4cCI6MTQ5NTIyMTE3NSwianRpIjoiSUQuNEVvdWx5WnM4MU9aaVdqQWNHQWdadmg0eUFScUdacjIwWF  RLdW1WRDRNMCIsImFtciI6WyJwd2QiXSwiaWRwIjoiMDBvOWNwMWpjNmhjc0dWN2kwaDciLCJub25jZSI6ImNjYmJmNDNkLTc5MTUtNDMwMC05NTZkLWQxYjc1ODk1YWNiNyIsImF1dGhfdGltZSI6MTQ4OTY5NjAzNy  wiYXRfaGFzaCI6IlRoaHNhUFd6bVlKMVlmcm1kNDM1Q0EifQ._uLqItzLzKb6m6G2-Jqs6OmrG_iWMg0P6UKQqzVggPc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="response-example-error">Response Example (Error)</h4>

<p>The requested scope is invalid:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.example.com/#error=invalid_scope&amp;error_description=The+requested+scope+is+invalid%2C+unknown%2C+or+malformed
</code></pre></div></div>

<h3 class="api api-operation" id="token">/token</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> <strong>${baseUrl}</strong>/v1/token</span></p>

<p>This endpoint returns access tokens, ID tokens, and refresh tokens, depending on the request parameters. For <a href="/authentication-guide/implementing-authentication/password">password</a>, <a href="/authentication-guide/implementing-authentication/client-creds">client credentials</a>, and <a href="/authentication-guide/tokens/refreshing-tokens">refresh token</a> flows, calling <code class="highlighter-rouge">/token</code> is the only step of the flow. For the <a href="/authentication-guide/implementing-authentication/auth-code">authorization code</a> flow, calling <code class="highlighter-rouge">/token</code> is the second step of the flow.</p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. For more information, see <a href="#composing-your-base-url">Composing Your Base URL</a>.</p>
</blockquote>

<h4 id="request-parameters-1">Request Parameters</h4>

<p>The following parameters can be posted as a part of the URL-encoded form values to the API.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">code</td>
      <td style="text-align: left">Required if <code class="highlighter-rouge">grant_type</code> is <code class="highlighter-rouge">authorization_code</code>. The value is what was returned from the <a href="#authorize">authorization endpoint</a>. The code has a lifetime of 60 seconds.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_assertion</td>
      <td style="text-align: left">Required if the <code class="highlighter-rouge">client_assertion_type</code> is specified. Contains the JWT signed with the <code class="highlighter-rouge">client_secret</code>. See <a href="#token-authentication-methods">Token authentication methods</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_assertion_type</td>
      <td style="text-align: left">Indicates a JWT is being used to authenticate the client. Per the <a href="http://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">Client Authentication spec</a>, the valid value is <code class="highlighter-rouge">urn:ietf:params:oauth:client-assertion-type:jwt-bearer</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_id</td>
      <td style="text-align: left">Required if client has a secret and client credentials are not provided in the Authorization header. See <a href="#token-authentication-methods">Token authentication methods</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_secret</td>
      <td style="text-align: left">Required if the client has a secret and client credentials are not provided in the Authorization header, and if <code class="highlighter-rouge">client_assertion_type</code> isn’t specified. This client secret is used in conjunction with <code class="highlighter-rouge">client_id</code> to authenticate the client application.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">code_verifier</td>
      <td style="text-align: left">Required if <code class="highlighter-rouge">grant_type</code> is <code class="highlighter-rouge">authorization_code</code>  and <code class="highlighter-rouge">code_challenge</code> was specified in the original <code class="highlighter-rouge">/authorize</code> request. This value is the code verifier for <a href="#parameter-details">PKCE</a>. Okta uses it to recompute the <code class="highlighter-rouge">code_challenge</code> and verify if it matches the original <code class="highlighter-rouge">code_challenge</code> in the authorization request.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">grant_type</td>
      <td style="text-align: left">Can be one of the following: <code class="highlighter-rouge">authorization_code</code>, <code class="highlighter-rouge">password</code>, <code class="highlighter-rouge">client_credentials</code>, or <code class="highlighter-rouge">refresh_token</code>. Determines the mechanism Okta uses to authorize the creation of the tokens.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">password</td>
      <td style="text-align: left">Required if the grant_type is <code class="highlighter-rouge">password</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">redirect_uri</td>
      <td style="text-align: left">Required if <code class="highlighter-rouge">grant_type</code> is <code class="highlighter-rouge">authorization_code</code>. Specifies the callback location where the authorization was sent. This value must match the <code class="highlighter-rouge">redirect_uri</code> used to generate the original <code class="highlighter-rouge">authorization_code</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">refresh_token</td>
      <td style="text-align: left">Required if <code class="highlighter-rouge">grant_type</code> is <code class="highlighter-rouge">refresh_token</code>. The value is a valid refresh token that was returned from this endpoint previously.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">scope</td>
      <td style="text-align: left">Required if <code class="highlighter-rouge">password</code> is the <code class="highlighter-rouge">grant_type</code>. This is a list of scopes that the client wants to be included in the access token. For the <code class="highlighter-rouge">refresh_token</code> grant type, these scopes have to be subset of the scopes used to generate the refresh token in the first place.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">username</td>
      <td style="text-align: left">Required if the grant_type is <code class="highlighter-rouge">password</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
  </tbody>
</table>

<h4 id="response-properties-1">Response Properties</h4>

<p>Based on the <code class="highlighter-rouge">grant_type</code> and sometimes <code class="highlighter-rouge">scope</code>, the response contains different token sets.
Generally speaking, the scopes specified in a request are included in the access tokens in the response.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Requested grant type</th>
      <th style="text-align: left">Requested scope</th>
      <th style="text-align: left">Response tokens</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">authorization_code</td>
      <td style="text-align: left">None, or any scopes except <code class="highlighter-rouge">offline_access</code> or <code class="highlighter-rouge">openid</code></td>
      <td style="text-align: left">Access token. Contains scopes requested via the <code class="highlighter-rouge">/authorize</code> endpoint.</td>
    </tr>
    <tr>
      <td style="text-align: left">authorization_code</td>
      <td style="text-align: left">Any scopes plus <code class="highlighter-rouge">offline_access</code></td>
      <td style="text-align: left">Access token, refresh token</td>
    </tr>
    <tr>
      <td style="text-align: left">authorization_code</td>
      <td style="text-align: left">Any  scopes plus <code class="highlighter-rouge">openid</code></td>
      <td style="text-align: left">Access token, ID token</td>
    </tr>
    <tr>
      <td style="text-align: left">authorization_code</td>
      <td style="text-align: left">Any scopes plus <code class="highlighter-rouge">offline_access</code> and <code class="highlighter-rouge">openid</code></td>
      <td style="text-align: left">Access token, ID token, refresh token</td>
    </tr>
    <tr>
      <td style="text-align: left">refresh_token</td>
      <td style="text-align: left">None</td>
      <td style="text-align: left">Access token, refresh token. Contains scopes used to generate the refresh token. If no scopes are requested in the refresh request, will include the scopes from the original authorization request.</td>
    </tr>
    <tr>
      <td style="text-align: left">refresh_token</td>
      <td style="text-align: left">Any scopes except <code class="highlighter-rouge">offline_access</code></td>
      <td style="text-align: left">Access token</td>
    </tr>
    <tr>
      <td style="text-align: left">refresh_token</td>
      <td style="text-align: left">Any scopes plus <code class="highlighter-rouge">offline_access</code></td>
      <td style="text-align: left">Access token, refresh token</td>
    </tr>
    <tr>
      <td style="text-align: left">password</td>
      <td style="text-align: left">Any scopes except <code class="highlighter-rouge">offline_access</code></td>
      <td style="text-align: left">Access token</td>
    </tr>
    <tr>
      <td style="text-align: left">password</td>
      <td style="text-align: left">Any scopes plus <code class="highlighter-rouge">offline_access</code></td>
      <td style="text-align: left">Access token, refresh token</td>
    </tr>
    <tr>
      <td style="text-align: left">password</td>
      <td style="text-align: left">Any scopes plus <code class="highlighter-rouge">openid</code></td>
      <td style="text-align: left">Access token, ID token</td>
    </tr>
    <tr>
      <td style="text-align: left">password</td>
      <td style="text-align: left">Any scopes plus <code class="highlighter-rouge">offline_access</code> and <code class="highlighter-rouge">openid</code></td>
      <td style="text-align: left">Access token, ID token, refresh token</td>
    </tr>
  </tbody>
</table>

<h4 id="list-of-errors">List of Errors</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Error Id</th>
      <th style="text-align: left">Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">invalid_client</td>
      <td style="text-align: left">The specified client id wasn’t found.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_grant</td>
      <td style="text-align: left">The <code class="highlighter-rouge">code</code>, <code class="highlighter-rouge">refresh_token</code>, or <code class="highlighter-rouge">username</code> and <code class="highlighter-rouge">password</code> combination is invalid, or the <code class="highlighter-rouge">redirect_uri</code> does not match the one used in the authorization request.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_request</td>
      <td style="text-align: left">The request structure was invalid. For example: the basic authentication header is malformed; both header and form parameters were used for authentication; or no authentication information was provided.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_scope</td>
      <td style="text-align: left">The scopes list contains an invalid or unsupported value.</td>
    </tr>
    <tr>
      <td style="text-align: left">unsupported_grant_type</td>
      <td style="text-align: left">The <code class="highlighter-rouge">grant_type</code> isn’t <code class="highlighter-rouge">authorization_code</code>, <code class="highlighter-rouge">refresh_token</code>, or <code class="highlighter-rouge">password</code>.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-example-success-1">Response Example (Success)</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiJ9.eyJ2ZXIiOjEsImlzcyI6Imh0dHA6Ly9yYWluLm9rdGExLmNvbToxODAyIiwiaWF0IjoxNDQ5Nj
                      I0MDI2LCJleHAiOjE0NDk2Mjc2MjYsImp0aSI6IlVmU0lURzZCVVNfdHA3N21BTjJxIiwic2NvcGVzIjpbIm9wZW5pZCIsI
                      mVtYWlsIl0sImNsaWVudF9pZCI6InVBYXVub2ZXa2FESnh1a0NGZUJ4IiwidXNlcl9pZCI6IjAwdWlkNEJ4WHc2STZUVjRt
                      MGczIn0.HaBu5oQxdVCIvea88HPgr2O5evqZlCT4UXH4UKhJnZ5px-ArNRqwhxXWhHJisslswjPpMkx1IgrudQIjzGYbtLF
                      jrrg2ueiU5-YfmKuJuD6O2yPWGTsV7X6i7ABT6P-t8PRz_RNbk-U1GXWIEkNnEWbPqYDAm_Ofh7iW0Y8WDA5ez1jbtMvd-o
                      XMvJLctRiACrTMLJQ2e5HkbUFxgXQ_rFPNHJbNSUBDLqdi2rg_ND64DLRlXRY7hupNsvWGo0gF4WEUk8IZeaLjKw8UoIs-E
                      TEwJlAMcvkhoVVOsN5dPAaEKvbyvPC1hUGXb4uuThlwdD3ECJrtwgKqLqcWonNtiw"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_in"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scope"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid email"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refresh_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a9VpZDRCeFh3Nkk2VdY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIwMHVpZDRCeFh3Nkk2VFY0bTBnMyIsImVtYWlsIjoid2VibWFzdGVyQGNsb3VkaXR1ZG
                  UubmV0IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInZlciI6MSwiaXNzIjoiaHR0cDovL3JhaW4ub2t0YTEuY29tOjE4MDIiLCJsb
                  2dpbiI6ImFkbWluaXN0cmF0b3IxQGNsb3VkaXR1ZGUubmV0IiwiYXVkIjoidUFhdW5vZldrYURKeHVrQ0ZlQngiLCJpYXQiOjE0
                  NDk2MjQwMjYsImV4cCI6MTQ0OTYyNzYyNiwiYW1yIjpbInB3ZCJdLCJqdGkiOiI0ZUFXSk9DTUIzU1g4WGV3RGZWUiIsImF1dGh
                  fdGltZSI6MTQ0OTYyNDAyNiwiYXRfaGFzaCI6ImNwcUtmZFFBNWVIODkxRmY1b0pyX1EifQ.Btw6bUbZhRa89DsBb8KmL9rfhku
                  --_mbNC2pgC8yu8obJnwO12nFBepui9KzbpJhGM91PqJwi_AylE6rp-ehamfnUAO4JL14PkemF45Pn3u_6KKwxJnxcWxLvMuuis
                  nvIs7NScKpOAab6ayZU0VL8W6XAijQmnYTtMWQfSuaaR8rYOaWHrffh3OypvDdrQuYacbkT0csxdrayXfBG3UF5-ZAlhfch1fhF
                  T3yZFdWwzkSDc0BGygfiFyNhCezfyT454wbciSZgrA9ROeHkfPCaX7KCFO8GgQEkGRoQntFBNjluFhNLJIUkEFovEDlfuB4tv_M
                  8BM75celdy3jkpOurg"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="response-example-error-1">Response Example (Error)</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 401 Unauthorized
Content-Type: application/json;charset=UTF-8
{
    "error" : "invalid_client",
    "error_description" : "No client credentials found."
}
</span></code></pre></div></div>

<h3 class="api api-operation" id="introspect">/introspect</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> <strong>${baseUrl}</strong>/v1/introspect</span></p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. For more information, see <a href="#composing-your-base-url">Composing Your Base URL</a>.</p>
</blockquote>

<p>This endpoint takes an access, ID, or refresh token, and returns a boolean indicating whether it is active or not.
If the token is active, additional data about the token is also returned. If the token is invalid, expired, or revoked, it is considered inactive.</p>

<blockquote>
  <p>Note: Although <a href="#id-token">ID tokens</a> can be sent to this endpoint, they are usually validated on the service provider or app side of a flow.</p>
</blockquote>

<h4 id="request-parameters-2">Request Parameters</h4>

<p>The following parameters can be posted as a part of the URL-encoded form values to the API.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">client_id</td>
      <td style="text-align: left">Required if client has a secret and client credentials are not provided in the Authorization header. See <a href="#token-authentication-methods">Token authentication methods</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_secret</td>
      <td style="text-align: left">Required if the client has a secret and client credentials are not provided in the Authorization header, and if <code class="highlighter-rouge">client_assertion_type</code> isn’t specified. This client secret is used in conjunction with <code class="highlighter-rouge">client_id</code> to authenticate the client application.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_assertion</td>
      <td style="text-align: left">Required if the <code class="highlighter-rouge">client_assertion_type</code> is specified. Contains the JWT signed with the <code class="highlighter-rouge">client_secret</code>. <a href="#token-authentication-methods">JWT details here</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_assertion_type</td>
      <td style="text-align: left">Indicates a JWT is being used to authenticate the client. Per the <a href="http://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">Client Authentication spec</a>, the valid value is <code class="highlighter-rouge">urn:ietf:params:oauth:client-assertion-type:jwt-bearer</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token</td>
      <td style="text-align: left">An access token, ID token, or refresh token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token_type_hint</td>
      <td style="text-align: left">Indicates the type of <code class="highlighter-rouge">token</code> being passed. Valid values are <code class="highlighter-rouge">access_token</code>, <code class="highlighter-rouge">id_token</code> and <code class="highlighter-rouge">refresh_token</code>.</td>
      <td style="text-align: left">String (Enum)</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Native applications should not provide – and by default do not store – <code class="highlighter-rouge">client_secret</code> (see <a href="https://tools.ietf.org/html/rfc6819#section-5.3.1">Section 5.3.1 of the OAuth 2.0 spec</a>). They can omit <code class="highlighter-rouge">client_secret</code> from the above request parameters when introspecting a token.</p>
</blockquote>

<h4 id="response-properties-2">Response Properties</h4>

<p>Based on the type of token and whether it is active or not, the returned JSON contains a different set of information. Besides the claims in the token, the possible top-level members include:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">active</td>
      <td style="text-align: left">Indicates whether the token is active or not.</td>
      <td style="text-align: left">Boolean</td>
    </tr>
    <tr>
      <td style="text-align: left">aud</td>
      <td style="text-align: left">The audience of the token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_id</td>
      <td style="text-align: left">The ID of the client associated with the token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">device_id</td>
      <td style="text-align: left">The ID of the device associated with the token</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">exp</td>
      <td style="text-align: left">The expiration time of the token in seconds since January 1, 1970 UTC.</td>
      <td style="text-align: left">Integer</td>
    </tr>
    <tr>
      <td style="text-align: left">iat</td>
      <td style="text-align: left">The issuing time of the token in seconds since January 1, 1970 UTC.</td>
      <td style="text-align: left">Integer</td>
    </tr>
    <tr>
      <td style="text-align: left">iss</td>
      <td style="text-align: left">The issuer of the token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">jti</td>
      <td style="text-align: left">The identifier of the token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">nbf</td>
      <td style="text-align: left">A timestamp in seconds since January 1, 1970 UTC when this token is not be used before.</td>
      <td style="text-align: left">Integer</td>
    </tr>
    <tr>
      <td style="text-align: left">scope</td>
      <td style="text-align: left">A space-delimited list of scopes.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">sub</td>
      <td style="text-align: left">The subject of the token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token_type</td>
      <td style="text-align: left">The type of token. The value is always <code class="highlighter-rouge">Bearer</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">uid</td>
      <td style="text-align: left">The user ID. This parameter is returned only if the token is an access token and the subject is an end user.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">username</td>
      <td style="text-align: left">The username associated with the token.</td>
      <td style="text-align: left">String</td>
    </tr>
  </tbody>
</table>

<h4 id="list-of-errors-1">List of Errors</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Error Id</th>
      <th style="text-align: left">Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">invalid_client</td>
      <td style="text-align: left">The specified <code class="highlighter-rouge">client_id</code> wasn’t found.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_request</td>
      <td style="text-align: left">The request structure was invalid. For example, the basic authentication header was malformed, or both header and form parameters were used for authentication or no authentication information was provided.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-example-success-access-token">Response Example (Success, Access Token)</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid profile"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a9VpZDRCeFh3Nkk2VdYa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1451606400</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iat"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1451602800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sub"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"aud"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"iss"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/orsmsg0aWLdnF3spV0g3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jti"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AT.7P4KlczBYVcWLkxduEuKeZfeiNYkZIC9uGJ28Cc-YaI"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"uid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"00uid4BxXw6I6TV4m0g3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="response-example-success-refresh-token">Response Example (Success, Refresh Token)</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scope"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"openid profile email"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"a9VpZDRCeFh3Nkk2VdYa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1451606400</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sub"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"device_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"q4SZgrA9sOeHkfst5uaa"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="response-example-success-inactive-token">Response Example (Success, Inactive Token)</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"active"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="response-example-error-2">Response Example (Error)</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 401 Unauthorized
Content-Type: application/json;charset=UTF-8
{
    "error" : "invalid_client",
    "error_description" : "No client credentials found."
}
</span></code></pre></div></div>

<h3 class="api api-operation" id="revoke">/revoke</h3>

<p><span class="api-uri-template api-uri-post"><span class="api-label">POST</span> <strong>${baseUrl}</strong>/v1/revoke</span></p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. For more information, see <a href="#composing-your-base-url">Composing Your Base URL</a>.</p>
</blockquote>

<p>The API takes an access or refresh token and revokes it. Revoked tokens are considered inactive at the introspection endpoint. A client may only revoke its own tokens.</p>

<h4 id="request-parameters-3">Request Parameters</h4>

<p>The following parameters can be posted as a part of the URL-encoded form values to the API.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">client_id</td>
      <td style="text-align: left">The client ID generated as a part of client registration. See <a href="#token-authentication-methods">Token authentication methods</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_secret</td>
      <td style="text-align: left">Required if the client has a secret and client credentials are not provided in the Authorization header, and if <code class="highlighter-rouge">client_assertion_type</code> isn’t specified. See <a href="#token-authentication-methods">Token authentication methods</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_assertion</td>
      <td style="text-align: left">Required if the <code class="highlighter-rouge">client_assertion_type</code> is specified. Contains the JWT signed with the <code class="highlighter-rouge">client_secret</code>.<a href="#token-authentication-methods">JWT Details</a></td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">client_assertion_type</td>
      <td style="text-align: left">Indicates a JWT is being used to authenticate the client. Per the <a href="http://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">Client Authentication spec</a>, the valid value is <code class="highlighter-rouge">urn:ietf:params:oauth:client-assertion-type:jwt-bearer</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token</td>
      <td style="text-align: left">An access or refresh token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token_type_hint</td>
      <td style="text-align: left">A hint of the type of <code class="highlighter-rouge">token</code>. Valid values are <code class="highlighter-rouge">access_token</code> and <code class="highlighter-rouge">refresh_token</code>.</td>
      <td style="text-align: left">String (Enum)</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>Native applications should not provide – and by default do not store – <code class="highlighter-rouge">client_secret</code> (see <a href="https://tools.ietf.org/html/rfc6819#section-5.3.1">Section 5.3.1 of the OAuth 2.0 spec</a>). They can omit <code class="highlighter-rouge">client_secret</code> from the above request parameters when revoking a token.</p>
</blockquote>

<p>For more information about token authentication, see <a href="#token-authentication-methods">Token Authentication Methods</a>.</p>

<h4 id="response-properties-3">Response Properties</h4>

<p>A successful revocation is denoted by an HTTP 200 OK response. Note that revoking an invalid, expired, or revoked token will still be considered a success so as to not leak information.</p>

<h4 id="list-of-errors-2">List of Errors</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Error Id</th>
      <th style="text-align: left">Details</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">invalid_client</td>
      <td style="text-align: left">The specified <code class="highlighter-rouge">client_id</code> wasn’t found.</td>
    </tr>
    <tr>
      <td style="text-align: left">invalid_request</td>
      <td style="text-align: left">The request structure was invalid. E.g. the basic authentication header was malformed, or both header and form parameters were used for authentication or no authentication information was provided.</td>
    </tr>
  </tbody>
</table>

<h4 id="response-example-success-2">Response Example (Success)</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 200 OK
</span></code></pre></div></div>

<h4 id="response-example-error-3">Response Example (Error)</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 401 Unauthorized
Content-Type: application/json;charset=UTF-8
{
    "error" : "invalid_client",
    "error_description" : "No client credentials found."
}
</span></code></pre></div></div>

<h3 class="api api-operation" id="logout">/logout</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> <strong>${baseUrl}</strong>/v1/logout</span></p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. For more information, see <a href="#composing-your-base-url">Composing Your Base URL</a>.</p>
</blockquote>

<p>The API takes an ID token and logs the user out of the Okta session if the subject matches the current Okta session. A <code class="highlighter-rouge">post_logout_redirect_uri</code> may be specified to redirect the User after the logout has been performed. Otherwise, the user is redirected to the Okta login page.</p>

<p>Use this operation to log out a user by removing their Okta browser session.</p>

<h4 id="request-parameters-4">Request Parameters</h4>

<p>The following parameters can be posted as a part of the URL-encoded form values to the API.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Required</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">id_token_hint</td>
      <td style="text-align: left">A valid ID token with a subject matching the current session.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">TRUE</td>
    </tr>
    <tr>
      <td style="text-align: left">post_logout_redirect_uri</td>
      <td style="text-align: left">Callback location to redirect to after the logout has been performed. It must match the value preregistered in Okta during client registration.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
    <tr>
      <td style="text-align: left">state</td>
      <td style="text-align: left">If the request contained a <code class="highlighter-rouge">state</code> parameter, then the same unmodified value is returned back in the response.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
    </tr>
  </tbody>
</table>

<h4 id="request-examples-1">Request Examples</h4>

<p>This request initiates a logout and will redirect to the Okta login page on success.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">-X</span> GET <span class="se">\</span>
<span class="s2">"https://{baseUrl}/logout?
  id_token_hint=</span><span class="k">${</span><span class="nv">id_token_hint</span><span class="k">}</span><span class="s2">
</span></code></pre></div></div>

<p>This request initiates a logout and will redirect to the <code class="highlighter-rouge">post_logout_redirect_uri</code> on success.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">-X</span> GET <span class="se">\</span>
<span class="s2">"https://{baseUrl}/logout?
  id_token_hint=</span><span class="k">${</span><span class="nv">id_token_hint</span><span class="k">}</span><span class="s2">&amp;
  post_logout_redirect_uri=</span><span class="k">${</span><span class="nv">post_logout_redirect_uri</span><span class="k">}</span><span class="s2">&amp;
  state=</span><span class="k">${</span><span class="nv">state</span><span class="k">}</span><span class="s2">
</span></code></pre></div></div>

<h4 id="response-example-success-3">Response Example (Success)</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 302 FOUND
</span></code></pre></div></div>

<p>Followed by either a redirect to your org’s login URL, or (if applicable) the specified logout redirect URI.</p>

<h4 id="response-example-error-4">Response Example (Error)</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 403 Forbidden
Content-Type: application/json;charset=UTF-8
{
    "errorCode": "E0000005",
    "errorSummary": "Invalid session",
    "errorLink": "E0000005",
    "errorId": "oae4uSVaLVbRTOoRB_EsrXMWw",
    "errorCauses": []
}
</span></code></pre></div></div>

<h3 class="api api-operation" id="keys">/keys</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> <strong>${baseUrl}</strong>/v1/keys</span></p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. For more information, see <a href="#composing-your-base-url">Composing Your Base URL</a>.</p>
</blockquote>

<p>Returns a JSON Web Key Set (JWKS), which contains the public keys that can be used to verify the signatures of tokens that you receive from your authorization server.</p>

<p>Any of the two or three keys listed are used to sign tokens. The order of keys in the result doesn’t indicate which keys are used.</p>

<p>These keys can be used to locally validate JWTs returned by Okta. Standard open-source libraries are available for every major language to perform <a href="https://tools.ietf.org/html/rfc7515">JWS</a> signature validation.</p>

<blockquote>
  <p>Okta strongly recommends retrieving keys dynamically with the JWKS published in the discovery document.</p>
</blockquote>

<blockquote>
  <p>Okta also recommends caching or persisting these keys to improve performance. If you cache signing keys and automatic key rotation is enabled, be aware that verification will fail when Okta rotates the keys automatically. Clients that cache keys should periodically check the JWKS for updated signing keys.</p>
</blockquote>

<h4 class="api api-request api-request-params" id="request-parameters-5">Request Parameters</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Parameter</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Param Type</th>
      <th style="text-align: left">DataType</th>
      <th style="text-align: left">Required</th>
      <th style="text-align: left">Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">client_id</td>
      <td style="text-align: left">Your app’s client ID.</td>
      <td style="text-align: left">Query</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">FALSE</td>
      <td style="text-align: left">null</td>
    </tr>
  </tbody>
</table>

<h4 id="response-properties-4">Response Properties</h4>

<p>JWKS properties can be found <a href="/docs/api/resources/authorization-servers#key-properties">here</a>.</p>

<h4 class="api api-response api-response-example" id="response-example">Response Example</h4>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 200 OK
Cache-Control → max-age=3832304, must-revalidate
Content-Type: application/json;charset=UTF-8
</span></code></pre></div></div>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iKqiD4cr7FZKm6f05K4r-GQOvjRqjOeFmOho9V7SAXYwCyJluaGBLVvDWO1XlduPLOrsG_Wgs67SOG5qeLPR8T1zDK4bfJAo1Tvbw
            YeTwVSfd_0mzRq8WaVc_2JtEK7J-4Z0MdVm_dJmcMHVfDziCRohSZthN__WM2NwGnbewWnla0wpEsU3QMZ05_OxvbBdQZaDUsNSx4
            6is29eCdYwhkAfFd_cFRq3DixLEYUsRwmOqwABwwDjBTNvgZOomrtD8BRFWSTlwsbrNZtJMYU33wuLO9ynFkZnY6qRKVHr3YToIrq
            NBXw0RWCheTouQ-snfAB6wcE2WDN3N5z760ejqQ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U5R8cHbGw445Qbq8zVO1PcCpXL8yG6IcovVa3laCoxM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"l1hZ_g2sgBE3oHvu34T-5XP18FYJWgtul_nRNg-5xra5ySkaXEOJUDRERUG0HrR42uqf9jYrUTwg9fp-SqqNIdHRaN8EwRSDRsKAwK
            3HIJ2NJfgmrrO2ABkeyUq6rzHxAumiKv1iLFpSawSIiTEBJERtUCDcjbbqyHVFuivIFgH8L37-XDIDb0XG-R8DOoOHLJPTpsgH-rJe
            M5w96VIRZInsGC5OGWkFdtgk6OkbvVd7_TXcxLCpWeg1vlbmX-0TmG5yjSj7ek05txcpxIqYu-7FIGT0KKvXge_BOSEUlJpBhLKU28
            OtsOnmc3NLIGXB-GeDiUZiBYQdPR-myB4ZoQ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y3vBOdYT-l-I0j-gRQ26XjutSX00TeWiSguuDhW3ngo"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"e"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AQAB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lC4ehVB6W0OCtNPnz8udYH9Ao83B6EKnHA5eTcMOap_lQZ-nKtS1lZwBj4wXRVc1XmS0d2OQFA1VMQ-dHLDE3CiGfsGqWbaiZFdW7U
            GLO1nAwfDdH6xp3xwpKOMewDXbAHJlXdYYAe2ap-CE9c5WLTUBU6JROuWcorHCNJisj1aExyiY5t3JQQVGpBz2oUIHo7NRzQoKimvp
            dMvMzcYnTlk1dhlG11b1GTkBclprm1BmOP7Ltjd7aEumOJWS67nKcAZzl48Zyg5KtV11V9F9dkGt25qHauqFKL7w3wu-DYhT0hmyFc
            wn-tXS6e6HQbfHhR_MQxysLtDGOk2ViWv8AQ"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"h5Sr3LXcpQiQlAUVPdhrdLFoIvkhRTAVs_h39bQnxlU"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"kty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RSA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sig"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="key-rotation">Key Rotation</h4>

<p>The keys that are used to sign tokens are periodically changed. Okta automatically rotates your authorization server’s keys on a regular basis.</p>

<p>Clients can opt-out of automatic key rotation by changing the client sign-on mode. In this case, passing the <code class="highlighter-rouge">client_id</code> with your request will retrieve the keys for that specific client.</p>

<p>Key rotation behaves differently with Custom Authorization Servers. For more information about key rotation with Custom Authorization Servers, see the <a href="/docs/api/resources/authorization-servers#rotate-authorization-server-keys">Authorization Servers API page</a>.</p>

<h4 id="alternative-validation">Alternative Validation</h4>

<p>You can use an <a href="#introspect">introspection request</a> for validation.</p>

<h3 class="api api-operation" id="userinfo">/userinfo</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> <strong>${baseUrl}</strong>/v1/userinfo</span></p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. For more information, see <a href="#composing-your-base-url">Composing Your Base URL</a>.</p>
</blockquote>

<p>Returns any claims for the currently logged-in user.</p>

<p>You must include an access token (returned from the <a href="#authorize">authorization endpoint</a> in the HTTP Authorization header.</p>

<h4 class="api api-request api-request-example" id="request-example">Request Example</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-v</span> <span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Authorization: Bearer </span><span class="k">${</span><span class="nv">access_token</span><span class="k">}</span><span class="s2">"</span> <span class="se">\</span>
<span class="s2">"https://{baseUrl}/userinfo"</span>
</code></pre></div></div>

<h4 class="api api-response api-response-example" id="response-properties-5">Response Properties</h4>

<p>Returns a JSON document with claims about the currently authenticated end user.</p>

<h4 class="api api-response api-response-example" id="response-example-success-4">Response Example (Success)</h4>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00uid4BxXw6I6TV4m0g3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nickname"</span><span class="p">:</span><span class="s2">"Jimmy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"given_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"middle_name"</span><span class="p">:</span><span class="s2">"James"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"family_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"profile"</span><span class="p">:</span><span class="s2">"https://example.com/john.doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"zoneinfo"</span><span class="p">:</span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="mi">1311280970</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_verified"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"street_address"</span><span class="p">:</span><span class="s2">"123 Hollywood Blvd."</span><span class="p">,</span><span class="w"> </span><span class="s2">"locality"</span><span class="p">:</span><span class="s2">"Los Angeles"</span><span class="p">,</span><span class="w"> </span><span class="s2">"region"</span><span class="p">:</span><span class="s2">"CA"</span><span class="p">,</span><span class="w"> </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="s2">"90210"</span><span class="p">,</span><span class="w"> </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="s2">"+1 (425) 555-1212"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The claims in the response are identical to those returned for the requested scopes in the <code class="highlighter-rouge">id_token</code> JWT, except for the <code class="highlighter-rouge">sub</code> claim which is always present.
See <a href="#scope-dependent-claims-not-always-returned">Scope-Dependent Claims</a> for more information about individual claims.</p>

<h4 class="api api-response api-response-example" id="response-example-error-5">Response Example (Error)</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 401 Unauthorized
WWW-Authenticate: Bearer error="invalid_token", error_description="The access token is invalid"​
</span></code></pre></div></div>

<h4 class="api api-response api-response-example" id="response-example-error-6">Response Example (Error)</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 403 Forbidden
Expires: 0
WWW-Authenticate: Bearer error="insufficient_scope", error_description="The access token must provide access to at least one of these scopes - profile, email, address or phone"
</span></code></pre></div></div>

<h3 class="api api-operation" id="well-knownoauth-authorization-server">/.well-known/oauth-authorization-server</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> /oauth2/<strong>${authServerId}</strong>/.well-known/oauth-authorization-server</span></p>

<blockquote>
  <p>This endpoint is only available on custom authorization servers, so there are no distinct <a href="#composing-your-base-url">base URLs</a>.</p>
</blockquote>

<p>Returns OAuth 2.0 metadata related to your custom authorization server. This information can be used by clients to programmatically configure their interactions with Okta. Custom scopes and custom claims aren’t returned.</p>

<blockquote>
  <p>This API doesn’t require any authentication.</p>
</blockquote>

<h4 class="api api-request api-request-example" id="request-example-1">Request Example</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/</span><span class="k">${</span><span class="nv">authServerId</span><span class="k">}</span><span class="s2">/.well-known/oauth-authorization-server?client_id=0oabzljih3rnr6aGt0h7"</span> <span class="se">\</span>
</code></pre></div></div>

<h4 class="api api-response api-response-example" id="response-properties-6">Response Properties</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">issuer</td>
      <td style="text-align: left">The complete URL for a Custom Authorization Server. This becomes the <code class="highlighter-rouge">iss</code> claim in an access token. In the context of this document, this is your authorization server’s <a href="#composing-your-base-url">base URL</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">authorization endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#authorize">authorization endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#token">token endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">registration_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="/docs/api/resources/oauth-clients.html#register-new-client">Dynamic Client Registration endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">jwks_uri</td>
      <td style="text-align: left">URL of the authorization server’s <a href="/docs/api/resources/authorization-servers#certificate-json-web-key-object">JSON Web Key Set</a> document.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">response_types_supported</td>
      <td style="text-align: left">JSON array containing a list of the <code class="highlighter-rouge">response_type</code> values that this authorization server supports.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">response_modes_supported</td>
      <td style="text-align: left">JSON array containing a list of the <code class="highlighter-rouge">response_mode</code> values that this authorization server supports. More information <a href="#parameter-details">here</a>.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">grant_types_supported</td>
      <td style="text-align: left">JSON array containing a list of the <code class="highlighter-rouge">grant_type</code> values that this authorization server supports.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">subject_types_supported</td>
      <td style="text-align: left">JSON array containing a list of the Subject Identifier types that this OP supports. Valid values are <code class="highlighter-rouge">pairwise</code> and <code class="highlighter-rouge">public</code>. More info <a href="https://openid.net/specs/openid-connect-core-1_0.html#SubjectIDTypes">here</a>.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">scopes_supported</td>
      <td style="text-align: left">JSON array containing a list of the <code class="highlighter-rouge">scope</code> values that this authorization server supports.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">token_endpoint_auth_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of client authentication methods supported by this token endpoint.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">claims_supported</td>
      <td style="text-align: left">A list of the claims supported by this authorization server.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">code_challenge_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of <a href="/authentication-guide/implementing-authentication/auth-code-pkce">PKCE code challenge</a> methods supported by this authorization server.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">introspection_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#introspect">introspection endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">introspection_endpoint_auth_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of client authentication methods supported by this introspection endpoint. More info <a href="https://www.iana.org/assignments/oauth-parameters/oauth-parameters.xhtml#token-introspection-response">here</a>.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">revocation_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#revoke">revocation endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">revocation_endpoint_auth_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of client authentication methods supported by this revocation endpoint. More info <a href="https://www.iana.org/assignments/oauth-parameters/oauth-parameters.xhtml#token-introspection-response">here</a>.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">end_session_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#logout">logout endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">request_parameter_supported</td>
      <td style="text-align: left">Indicates if <a href="#parameter-details">Request Parameters</a> are supported by this authorization server.</td>
      <td style="text-align: left">Boolean</td>
    </tr>
    <tr>
      <td style="text-align: left">request_object_signing_alg_values_supported</td>
      <td style="text-align: left">The signing algorithms that this authorization server supports for signed requests.</td>
      <td style="text-align: left">Array</td>
    </tr>
  </tbody>
</table>

<h4 class="api api-response api-response-example" id="response-example-success-5">Response Example (Success)</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"authorization_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}/v1/authorize"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}/v1/token"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"registration_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/clients"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jwks_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}/v1/keys"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"response_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code token"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"response_modes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fragment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"form_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"okta_post_message"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"grant_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"implicit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"refresh_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"password"</span><span class="w">
        </span><span class="s2">"client_credentials"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subject_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"public"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"scopes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"offline_access"</span><span class="p">,</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"token_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_jwt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"claims_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"ver"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"jti"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"iss"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"aud"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"iat"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"exp"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"cid"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"uid"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"scp"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"sub"</span><span class="w">
  </span><span class="p">],</span><span class="w">
    </span><span class="s2">"code_challenge_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"S256"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"introspection_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}/v1/introspect"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"introspection_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_jwt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"revocation_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}/v1/revoke"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"revocation_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_jwt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"end_session_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/${authServerId}/v1/logout"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_parameter_supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_object_signing_alg_values_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"HS256"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"HS384"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"HS512"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 class="api api-response api-response-example" id="response-example-error-7">Response Example (Error)</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">HTTP 404 Not Found
{
    "errorCode": "E0000007",
    "errorSummary": "Not found: Resource not found: ${authServerId} (AuthorizationServer)",
    "errorLink": "E0000007",
    "errorId": "oaeQdc5IvrlSGGnewf-cqqDqA",
    "errorCauses": []
}
</span></code></pre></div></div>

<h3 class="api api-operation" id="well-knownopenid-configuration">/.well-known/openid-configuration</h3>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> <span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/.well-known/openid-configuration</span></p>

<p><span class="api-uri-template api-uri-get"><span class="api-label">GET</span> <span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/<strong>${authServerId}</strong>/.well-known/openid-configuration</span></p>

<blockquote>
  <p>This endpoint’s base URL will vary depending on whether you are using a custom authorization server or not. The custom authorization server URL specifies an <code class="highlighter-rouge">authServerId</code>. For example, the custom Authorization Server automatically created for you by Okta has an <code class="highlighter-rouge">authServerId</code> value of <code class="highlighter-rouge">default</code>.</p>
</blockquote>

<p>Returns OpenID Connect metadata about your authorization server. This information can be used by clients to programmatically configure their interactions with Okta. Custom scopes and custom claims aren’t returned.</p>

<p>This API doesn’t require any authentication.</p>

<h4 class="api api-request api-request-example" id="request-example-2">Request Example</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/</span><span class="k">${</span><span class="nv">authServerId</span><span class="k">}</span><span class="s2">/.well-known/openid-configuration?client_id=0oabzljih3rnr6aGt0h7"</span> <span class="se">\</span>
</code></pre></div></div>

<h4 class="api api-response api-response-example" id="response-properties-7">Response Properties</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">authorization_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#authorize">authorization endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">claims_supported</td>
      <td style="text-align: left">A list of the claims supported by this authorization server.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">code_challenge_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of <a href="/authentication-guide/implementing-authentication/auth-code-pkce">PKCE code challenge</a> methods supported by this authorization server.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">end_session_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#logout">logout endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">grant_types_supported</td>
      <td style="text-align: left">JSON array containing a list of the grant type values that this authorization server supports.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">introspection_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#introspect">introspection endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">introspection_endpoint_auth_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of client authentication methods supported by this introspection endpoint.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">issuer</td>
      <td style="text-align: left">The authorization server’s issuer identifier. In the context of this document, this is your authorization server’s <a href="#composing-your-base-uRL">base URL</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">jwks_uri</td>
      <td style="text-align: left">URL of the authorization server’s JSON Web Key Set document.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">registration_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="/docs/api/resources/oauth-clients.html#register-new-client">Dynamic Client Registration endpoint</a></td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">request_object_signing_alg_values_supported</td>
      <td style="text-align: left">The signing algorithms that this authorization server supports for signed requests.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">request_parameter_supported</td>
      <td style="text-align: left">Indicates if <a href="#parameter-details">Request Parameters</a> are supported by this authorization server.</td>
      <td style="text-align: left">Boolean</td>
    </tr>
    <tr>
      <td style="text-align: left">response_modes_supported</td>
      <td style="text-align: left">JSON array containing a list of the <code class="highlighter-rouge">response_mode</code> values that this authorization server supports. More information <a href="#parameter-details">here</a>.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">response_types_supported</td>
      <td style="text-align: left">JSON array containing a list of the <code class="highlighter-rouge">response_type</code> values that this authorization server supports. Can be a combination of <code class="highlighter-rouge">code</code>, <code class="highlighter-rouge">token</code>, and <code class="highlighter-rouge">id_token</code>.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">revocation_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#revoke">revocation endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">revocation_endpoint_auth_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of client authentication methods supported by this revocation endpoint.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">scopes_supported</td>
      <td style="text-align: left">JSON array containing a list of the <code class="highlighter-rouge">scope</code> values that this authorization server supports.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">subject_types_supported</td>
      <td style="text-align: left">JSON array containing a list of the Subject Identifier types that this authorization server supports. Valid types include <code class="highlighter-rouge">pairwise</code> and <code class="highlighter-rouge">public</code>. More info <a href="https://openid.net/specs/openid-connect-core-1_0.html#SubjectIDTypes">here</a>.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">token_endpoint</td>
      <td style="text-align: left">URL of the authorization server’s <a href="#token">token endpoint</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">token_endpoint_auth_methods_supported</td>
      <td style="text-align: left">JSON array containing a list of client authentication methods supported by this token endpoint.</td>
      <td style="text-align: left">Array</td>
    </tr>
  </tbody>
</table>

<h4 class="api api-response api-response-example" id="response-example-success-6">Response Example (Success)</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"authorization_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/authorize"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/token"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"userinfo_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/userinfo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"registration_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/clients"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jwks_uri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/keys"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"response_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code id_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code id_token token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_token token"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"response_modes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"query"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fragment"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"form_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"okta_post_message"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"grant_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"authorization_code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"implicit"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"refresh_token"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"password"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subject_types_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"public"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"id_token_signing_alg_values_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"RS256"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"scopes_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"offline_access"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"groups"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"token_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_jwt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"claims_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"iss"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ver"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sub"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"aud"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iat"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"exp"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"jti"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"auth_time"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amr"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"idp"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nonce"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"nickname"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"preferred_username"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"given_name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"middle_name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"family_name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_verified"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"profile"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"zoneinfo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locale"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone_number"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"picture"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gender"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"birthdate"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"at_hash"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"c_hash"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"introspection_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/introspect"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"introspection_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_jwt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"revocation_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/revoke"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"revocation_endpoint_auth_methods_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"client_secret_basic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_post"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client_secret_jwt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"none"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"end_session_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://{baseUrl}/logout"</span><span class="w">
    </span><span class="s2">"request_parameter_supported"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_object_signing_alg_values_supported"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"HS256"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"HS384"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"HS512"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 class="api api-response api-response-example" id="response-example-error-8">Response Example (Error)</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">~~~http
HTTP 404 Not Found
{
    "errorCode": "E0000007",
    "errorSummary": "Not found: Resource not found: ${authServerId} (AuthorizationServer)",
    "errorLink": "E0000007",
    "errorId": "oaeQdc5IvrlSGGnewf-cqqDqA",
    "errorCauses": []
}
</span></code></pre></div></div>

<h2 id="tokens">Tokens</h2>

<p>This section contains detailed information about access and ID tokens.</p>

<ul>
  <li><a href="#access-token">Access Token</a></li>
  <li><a href="#id-token">ID Token</a></li>
</ul>

<h3 id="access-token">Access Token</h3>

<blockquote>
  <p>NOTE: The usage of the access token differs depending on whether you are using the Okta org authorization server, or a custom authorization server. While the structure of an access token retrieved from the a custom authorization server is guaranteed to not change, the structure of the access token issued by the Okta org authorization server is subject to change.</p>
</blockquote>

<p>An access token is a JSON web token (JWT) encoded in Base64 URL-encoded format that contains <a href="#access-token-header">a header</a>, <a href="#access-token-payload">payload</a>, and <a href="#access-token-signature">signature</a>. A resource server can authorize the client to access particular resources based on the <a href="#access-token-scopes-and-claims">scopes and claims</a> in the access token.</p>

<p>The lifetime of access token can be configured in the <a href="/docs/api/resources/authorization-servers#policy-object">Access Policies</a>. If the client that
issued the token is deactivated, the token is immediately and permanently invalidated. Reactivating the
client does not make the token valid again.</p>

<h4 id="access-token-header">Access Token Header</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45js03w0djwedsw"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="access-token-payload">Access Token Payload</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ver"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"jti"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AT.0mP4JKAZX1iACIT4vbEDF7LpvDVjxypPMf0D7uX39RE"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>/oauth2/0oacqf8qaJw56czJi0g4"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"aud"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00ujmkLgagxeRrAg20g3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"iat"</span><span class="p">:</span><span class="w"> </span><span class="mi">1467145094</span><span class="p">,</span><span class="w">
  </span><span class="s2">"exp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1467148694</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nmdP1fcyvdVO11AL7ECm"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00ujmkLgagxeRrAg20g3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"scp"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"openid"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"flights"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"custom"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"custom_claim"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CustomValue"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="access-token-signature">Access Token Signature</h4>

<p>This is a digital signature Okta generates using the public key identified by the <code class="highlighter-rouge">kid</code> property in the header section.</p>

<h4 id="access-token-scopes-and-claims">Access Token Scopes and Claims</h4>

<p>Access tokens include reserved scopes and claims, and can optionally include custom scopes and claims.</p>

<p>Scopes are requested in the initial <a href="#authorize">authorization request</a>, and the Authorization Server uses the <a href="/docs/api/resources/authorization-servers#policy-object">Access Policies</a> to decide if they can be granted or not. If any of the requested scopes are rejected by the Access Policies, the request will be rejected.</p>

<p>Based on the granted scopes, claims are added into the access token returned from the request.</p>

<h5 id="reserved-scopes-and-claims">Reserved Scopes and Claims</h5>

<p>Okta defines a number of reserved scopes and claims which can’t be overridden.</p>

<ul>
  <li><a href="#reserved-scopes">Reserved scopes</a></li>
  <li><a href="#reserved-claims-in-the-header-section">Reserved claims in the header section</a></li>
  <li><a href="#reserved-claims-in-the-payload-section">Reserved claims in the payload section</a></li>
</ul>

<h6 id="reserved-scopes">Reserved scopes</h6>

<p><code class="highlighter-rouge">openid</code>, <code class="highlighter-rouge">profile</code>, <code class="highlighter-rouge">email</code>, <code class="highlighter-rouge">address</code>, <code class="highlighter-rouge">phone</code>, <code class="highlighter-rouge">offline_access</code>, and <code class="highlighter-rouge">groups</code> are available to ID tokens and access tokens, using either the Okta Org Authorization Server or a Custom Authorization Server. For details, see <a href="#access-token-scopes-and-claims">Scopes</a>.
All of these scopes except <code class="highlighter-rouge">groups</code> are defined in the OpenID Connect specification.</p>

<h6 id="reserved-claims-in-the-header-section">Reserved claims in the header section</h6>

<p>The header only includes the following reserved claims:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">DataType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">alg</td>
      <td style="text-align: left">Identifies the digital signature algorithm used. This will always be <code class="highlighter-rouge">RS256</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">kid</td>
      <td style="text-align: left">Identifies the <code class="highlighter-rouge">public-key</code> used to sign the <code class="highlighter-rouge">access_token</code>. The corresponding <code class="highlighter-rouge">public-key</code> can be found via the JWKS in the <a href="#well-knownoauth-authorization-server">discovery document</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
  </tbody>
</table>

<h6 id="reserved-claims-in-the-payload-section">Reserved claims in the payload section</h6>

<p>The payload includes the following reserved claims:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">DataType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">aud</td>
      <td style="text-align: left">Identifies the audience (resource URI or server) that this access token is intended for.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">cid</td>
      <td style="text-align: left">Client ID of the client that requested the access token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">exp</td>
      <td style="text-align: left">The time the access token expires, represented in Unix time (seconds).</td>
      <td style="text-align: left">Integer</td>
    </tr>
    <tr>
      <td style="text-align: left">iat</td>
      <td style="text-align: left">The time the access token was issued, represented in Unix time (seconds).</td>
      <td style="text-align: left">Integer</td>
    </tr>
    <tr>
      <td style="text-align: left">iss</td>
      <td style="text-align: left">The Issuer Identifier of the response. This value will be the unique identifier for the Authorization Server instance.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">jti</td>
      <td style="text-align: left">A unique identifier for this access token for debugging and revocation purposes.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">scp</td>
      <td style="text-align: left">Array of scopes that are granted to this access token.</td>
      <td style="text-align: left">Array</td>
    </tr>
    <tr>
      <td style="text-align: left">sub</td>
      <td style="text-align: left">The subject. A name for the user or a unique identifier for the client.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">uid</td>
      <td style="text-align: left">A unique identifier for the user. It will not be included in the access token if there is no user bound to it.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">ver</td>
      <td style="text-align: left">The semantic version of the access token.</td>
      <td style="text-align: left">Integer</td>
    </tr>
  </tbody>
</table>

<h5 id="custom-scopes-and-claims">Custom Scopes and Claims</h5>

<p>You can configure custom scopes and claims for your access tokens, depending on the authorization server you are using (see <a href="#composing-your-base-url">Composing Your Base URL</a>):</p>

<ul>
  <li>For the Okta Org Authorization Server, you can configure a custom <code class="highlighter-rouge">groups</code> claim.</li>
  <li>For a Custom Authorization Server, you can configure a custom <code class="highlighter-rouge">groups</code> claim or any other custom scopes and claims you want.</li>
</ul>

<h6 id="custom-scopes">Custom scopes</h6>

<p>If the request that generates the access token contains any custom scopes, those scopes will be part of the <code class="highlighter-rouge">scp</code> claim together with the reserved scopes provided from the <a href="http://openid.net/specs/openid-connect-core-1_0.html">OIDC specification</a>. The names of your custom scopes must conform to the <a href="https://tools.ietf.org/html/rfc6749#section-3.3">OAuth 2.0 specification</a>.</p>

<blockquote>
  <p>Scope names can contain the characters <code class="highlighter-rouge">&lt;</code> (less than) or <code class="highlighter-rouge">&gt;</code> (greater than), but not both characters.</p>
</blockquote>

<h6 id="custom-claims">Custom claims</h6>

<p>Custom claims are associated with scopes. In general, granting a custom scope means a custom claim is added to the token. However, the specifics depend on which claims are requested, whether the request is to the Okta Org Authorization Server or a Custom Authorization Server, and some configuration choices.</p>

<p><strong>Quick reference: which token has which claims?</strong></p>

<p>Custom claims are configured in the Custom Authorization Server, and returned depending on whether it matches a scope in the request, and also depending on the token type, authorization server type, and the token and claim configuration set in the authorization server:</p>

<ul>
  <li>Base claims are always returned in ID tokens and access tokens for both authorization server types (Okta Org Authorization Server or Custom Authorization Server).</li>
  <li>Scope-dependent claims are returned in tokens depending on the response type for either authorization server type. See <a href="#scope-dependent-claims-not-always-returned">the second table in the Scope-Dependent Claims topic</a> for details.</li>
  <li>Custom claims require configuration in the Custom Authorization Server. You can specify that claims are to be returned in each token (ID or access) always, or only when requested. Assuming a claim matches a requested scope,
  it is returned to the ID token if there is no access token requested.</li>
</ul>

<p>The ID token or access token may not include all claims associated with the requested scopes. The <a href="#userinfo">UserInfo endpoint</a> always contains a full set of claims for the requested scopes.</p>

<h3 id="id-token">ID Token</h3>

<p>OpenID Connect introduces an ID token which is a JSON Web Token (JWT) that contains information about an authentication event and claims about the authenticated user.</p>

<p>Clients can use any of the following sequences of operations to obtain an ID token:</p>
<ul>
  <li><a href="/authentication-guide/implementing-authentication/auth-code">Authorization code flow</a> or <a href="/authentication-guide/implementing-authentication/auth-code-pkce">Authorization code with PKCE flow</a> – the client obtains an authorization code from the authorization server’s <a href="#authorize">/authorize endpoint</a> and uses it to obtain an ID token and an access token from the authorization server’s <a href="#token">/token endpoint</a>.</li>
  <li><a href="/authentication-guide/implementing-authentication/implicit">Implicit flow</a> – the client obtains an ID token and optionally an access token directly from the authorization server’s <code class="highlighter-rouge">/authorize</code> endpoint.</li>
</ul>

<p>Clients should always <a href="/authentication-guide/tokens/validating-id-tokens">validate ID tokens</a> to ensure their integrity.</p>

<p>The ID tokens returned by the <code class="highlighter-rouge">/authorize</code> endpoint (implicit flow) or the <code class="highlighter-rouge">/token</code> endpoint (authorization code flow)
are identical, except if:</p>

<ul>
  <li>You are using the implicit flow. If so, the <code class="highlighter-rouge">nonce</code> parameter is required in the initial <code class="highlighter-rouge">/authorize</code> request, and the ID token will include a <code class="highlighter-rouge">nonce</code> claim that should be validated to make sure it matches the <code class="highlighter-rouge">nonce</code> value passed to <code class="highlighter-rouge">/authorize.</code></li>
  <li>Both an ID and and access token were requested. If so, the ID token will include the <code class="highlighter-rouge">at_hash</code> <a href="http://openid.net/specs/openid-connect-core-1_0.html#CodeIDToken">parameter</a> which can be validated against the hash of the access token to guarantee the access token is genuine.</li>
</ul>

<p>The ID Token consists of three period-separated, Base64 URL-encoded JSON segments: <a href="#id-token-header">a header</a>, <a href="#id-token-payload">the payload</a>, and <a href="#id-token-signature">the signature</a>.</p>

<h4 id="id-token-header">ID Token Header</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"alg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RS256"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"kid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45js03w0djwedsw"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="id-token-payload">ID Token Payload</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ver"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sub"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00uid4BxXw6I6TV4m0g3"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"iss"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:{yourOktaDomain.com}"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"aud"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uAaunofWkaDJxukCFeBx"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"iat"</span><span class="p">:</span><span class="w"> </span><span class="mi">1449624026</span><span class="p">,</span><span class="w">
  </span><span class="s2">"exp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1449627626</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amr"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"pwd"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"jti"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID.4eAWJOCMB3SX8XewDfVR"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"auth_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1449624026</span><span class="p">,</span><span class="w">
  </span><span class="s2">"at_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cpqKfdQA5eH891Ff5oJr_Q"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="w"> </span><span class="p">:</span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nickname"</span><span class="p">:</span><span class="s2">"Jimmy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"preferred_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"given_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"middle_name"</span><span class="p">:</span><span class="s2">"James"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"family_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"profile"</span><span class="p">:</span><span class="s2">"https://example.com/john.doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"zoneinfo"</span><span class="p">:</span><span class="s2">"America/Los_Angeles"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locale"</span><span class="p">:</span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="mi">1311280970</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email_verified"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Hollywood Blvd."</span><span class="p">,</span><span class="w">
      </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Los Angeles"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="s2">"+1 (425) 555-1212"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="id-token-signature">ID Token Signature</h4>

<p>This is the digital signature that Okta signs, using the public key identified by the <code class="highlighter-rouge">kid</code> property in the header section.</p>

<h4 id="id-token-claims">ID Token Claims</h4>

<p>The header and payload sections contain claims.</p>

<h5 id="claims-in-the-header-section">Claims in the header section</h5>

<p>Claims in the header are always returned.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">DataType</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">alg</td>
      <td style="text-align: left">Identifies the digital signature algorithm used. This is always be RS256.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">kid</td>
      <td style="text-align: left">Identifies the public key used to verify the ID token. The corresponding public key can be found via the JWKS in the <a href="#well-knownopenid-configuration">discovery document</a>.</td>
      <td style="text-align: left">String</td>
    </tr>
  </tbody>
</table>

<h5 id="claims-in-the-payload-section">Claims in the payload section</h5>

<p>Claims in the payload are either base claims, independent of scope (always returned), or dependent on scope (not always returned).</p>

<h6 id="base-claims-always-present">Base claims (always present)</h6>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">DataType</th>
      <th style="text-align: left">Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">amr</td>
      <td style="text-align: left">JSON array of strings that are identifiers for <a href="http://self-issued.info/docs/draft-jones-oauth-amr-values-00.html">authentication methods</a> used in the authentication.</td>
      <td style="text-align: left">Array</td>
      <td style="text-align: left">[ “pwd”, “mfa”, “otp”, “kba”, “sms”, “swk”, “hwk” ]</td>
    </tr>
    <tr>
      <td style="text-align: left">aud</td>
      <td style="text-align: left">Identifies the audience that this ID token is intended for. It will be one of your application’s OAuth 2.0 client IDs.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“6joRGIzNCaJfdCPzRjlh”</td>
    </tr>
    <tr>
      <td style="text-align: left">auth_time</td>
      <td style="text-align: left">The time the end user was authenticated, represented in Unix time (seconds).</td>
      <td style="text-align: left">Integer</td>
      <td style="text-align: left">1311280970</td>
    </tr>
    <tr>
      <td style="text-align: left">exp</td>
      <td style="text-align: left">The time the ID token expires, represented in Unix time (seconds).</td>
      <td style="text-align: left">Integer</td>
      <td style="text-align: left">1311280970</td>
    </tr>
    <tr>
      <td style="text-align: left">iat</td>
      <td style="text-align: left">The time the ID token was issued, represented in Unix time (seconds).</td>
      <td style="text-align: left">Integer</td>
      <td style="text-align: left">1311280970</td>
    </tr>
    <tr>
      <td style="text-align: left">idp</td>
      <td style="text-align: left">The Okta org ID, or the ID of an <a href="/docs/api/resources/idps.html">Identity Provider</a> if this authentication used Social Authentication or Inbound SAML.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“00ok1u7AsAkrwdZL3z0g3”</td>
    </tr>
    <tr>
      <td style="text-align: left">iss</td>
      <td style="text-align: left">The URL of the authorization server that issued this ID token</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“<span class="okta-preview-domain">https://{yourOktaDomain}.com</span>”</td>
    </tr>
    <tr>
      <td style="text-align: left">jti</td>
      <td style="text-align: left">A unique identifier for this ID token for debugging and revocation purposes.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“Tlenfse93dgkaksginv”</td>
    </tr>
    <tr>
      <td style="text-align: left">sub</td>
      <td style="text-align: left">The subject. A unique identifier for the user.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“00uk1u7AsAk6dZL3z0g3”</td>
    </tr>
    <tr>
      <td style="text-align: left">ver</td>
      <td style="text-align: left">The semantic version of the ID token.</td>
      <td style="text-align: left">Integer</td>
      <td style="text-align: left">1</td>
    </tr>
  </tbody>
</table>

<h6 id="scope-dependent-claims-not-always-returned">Scope-dependent claims (not always returned)</h6>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Property</th>
      <th style="text-align: left">Required Scope</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">DataType</th>
      <th style="text-align: left">Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">name</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">User’s full name in displayable form including all name parts, possibly including titles and suffixes, ordered according to the user’s locale and preferences.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“John Doe”</td>
    </tr>
    <tr>
      <td style="text-align: left">preferred_username</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">The Okta login (username) for the end user.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“john.doe@example.com”</td>
    </tr>
    <tr>
      <td style="text-align: left">nickname</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">Casual name of the user that may or may not be the same as the given_name.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“Jimmy”</td>
    </tr>
    <tr>
      <td style="text-align: left">preferred_username</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">The chosen login (username) for the end user. By default this is the Okta username.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“john.doe@example.com”</td>
    </tr>
    <tr>
      <td style="text-align: left">given_name</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">Given name(s) or first name(s) of the user. Note that in some cultures, people can have multiple given names; all can be present, with the names being separated by space characters.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“John”</td>
    </tr>
    <tr>
      <td style="text-align: left">middle_name</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">Middle name(s) of the user. Note that in some cultures, people can have multiple middle names; all can be present, with the names being separated by space characters. Also note that in some cultures, middle names are not used.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“James”</td>
    </tr>
    <tr>
      <td style="text-align: left">family_name</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">Surname(s) or last name(s) of the user. Note that in some cultures, people can have multiple family names or no family name; all can be present, with the names being separated by space characters.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“Doe”</td>
    </tr>
    <tr>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">URL of the user’s profile page.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“https://profile.wordpress.com/john.doe”</td>
    </tr>
    <tr>
      <td style="text-align: left">zoneinfo</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">String representing the user’s time zone.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“America/Los_Angeles”</td>
    </tr>
    <tr>
      <td style="text-align: left">locale</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">Language and <a href="http://www.iso.org/iso/country_codes">ISO3166‑1</a> country code in uppercase, separated by a dash.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“en-US”</td>
    </tr>
    <tr>
      <td style="text-align: left">updated_at</td>
      <td style="text-align: left">profile</td>
      <td style="text-align: left">Time the user’s information was last updated, represented in Unix time (seconds).</td>
      <td style="text-align: left">Integer</td>
      <td style="text-align: left">1311280970</td>
    </tr>
    <tr>
      <td style="text-align: left">email</td>
      <td style="text-align: left">email</td>
      <td style="text-align: left">User’s preferred email address. The resource provider must not rely upon this value being unique.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“john.doe@example.com”</td>
    </tr>
    <tr>
      <td style="text-align: left">email_verified</td>
      <td style="text-align: left">email</td>
      <td style="text-align: left">True if the user’s email address (Okta primary email) has been verified; otherwise false.</td>
      <td style="text-align: left">boolean</td>
      <td style="text-align: left">true</td>
    </tr>
    <tr>
      <td style="text-align: left">address</td>
      <td style="text-align: left">address</td>
      <td style="text-align: left">User’s preferred postal address. The value of the address member is a JSON structure containing <em>street_address</em>, <em>locality</em>, <em>region</em>, <em>postal_code</em>, and <em>country</em>.</td>
      <td style="text-align: left">JSON structure</td>
      <td style="text-align: left">{ “street_address”: “123 Hollywood Blvd.”, “locality”: “Los Angeles”, “region”: “CA”, “postal_code”: “90210”, “country”: “US” }</td>
    </tr>
    <tr>
      <td style="text-align: left">phone_number</td>
      <td style="text-align: left">phone</td>
      <td style="text-align: left">User’s preferred telephone number in E.164 format.</td>
      <td style="text-align: left">String</td>
      <td style="text-align: left">“+1 (425) 555-1212”</td>
    </tr>
    <tr>
      <td style="text-align: left">groups</td>
      <td style="text-align: left">groups</td>
      <td style="text-align: left">The groups that the user is a member of that also match the ID Token group filter of the client app.</td>
      <td style="text-align: left">List</td>
      <td style="text-align: left">[“MyGroup1”, “MyGroup2”, “MyGroup3”]</td>
    </tr>
  </tbody>
</table>

<p>Be aware of the following before you work with scope-dependent claims:</p>

<ul>
  <li>To protect against arbitrarily large numbers of groups matching the group filter, the groups claim has a limit of 100.
If more than 100 groups match the filter, then the request fails. Expect that this limit may change in the future.
For more information about configuring an app for OpenID Connect, including group claims, see <a href="https://help.okta.com/en/prod/Content/Topics/Apps/Apps_App_Integration_Wizard.htm">OpenID Connect Wizard</a>.</li>
  <li>
    <p><strong>Important:</strong> Scope-dependent claims are returned differently depending on the values in <code class="highlighter-rouge">response_type</code> and the scopes requested:</p>

    <table>
      <thead>
        <tr>
          <th style="text-align: left">Response Type</th>
          <th style="text-align: left">Claims Returned in ID Token</th>
          <th style="text-align: left">Claims Returned from the Userinfo Endpoint</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align: left"><code class="highlighter-rouge">code </code></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">N/A</td>
        </tr>
        <tr>
          <td style="text-align: left"><code class="highlighter-rouge">token</code></td>
          <td style="text-align: left">N/A</td>
          <td style="text-align: left">N/A</td>
        </tr>
        <tr>
          <td style="text-align: left"><code class="highlighter-rouge">id_token</code></td>
          <td style="text-align: left">Claims associated with requested scopes.</td>
          <td style="text-align: left">N/A</td>
        </tr>
        <tr>
          <td style="text-align: left"><code class="highlighter-rouge">id_token</code> <code class="highlighter-rouge">code </code></td>
          <td style="text-align: left">Claims associated with requested scopes.</td>
          <td style="text-align: left">N/A</td>
        </tr>
        <tr>
          <td style="text-align: left"><code class="highlighter-rouge">id_token</code> <code class="highlighter-rouge">token</code></td>
          <td style="text-align: left"><code class="highlighter-rouge">email</code> if email scope is requested; <code class="highlighter-rouge">name</code> and <code class="highlighter-rouge">preferred_username</code> if profile scope is requested</td>
          <td style="text-align: left">Claims associated with the requested scopes</td>
        </tr>
        <tr>
          <td style="text-align: left"><code class="highlighter-rouge">code</code> <code class="highlighter-rouge">id_token</code> <code class="highlighter-rouge">token</code></td>
          <td style="text-align: left"><code class="highlighter-rouge">email</code> if email scope is requested; <code class="highlighter-rouge">name</code> and <code class="highlighter-rouge">preferred_username</code> if profile scope is requested</td>
          <td style="text-align: left">Claims associated with the requested scopes</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>The full set of claims for the requested scopes is available via the <a href="#userinfo">/oauth2/v1/userinfo</a> endpoint. Call this endpoint using the access token.</li>
</ul>

<h2 id="token-authentication-methods">Token Authentication Methods</h2>

<p>If you authenticate a client with client credentials, provide the <a href="#request-parameters-1"><code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">client_secret</code></a>
using either of the following methods:</p>

<ul>
  <li>Provide <code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">client_secret</code>
in an Authorization header in the Basic auth scheme (<code class="highlighter-rouge">client_secret_basic</code>). For authentication with Basic auth, an HTTP header with the following format must be provided with the POST request:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Authorization: Basic <span class="k">${</span><span class="nv">Base64</span><span class="p">(&lt;client_id&gt;</span>:<span class="p">&lt;client_secret&gt;)</span><span class="k">}</span>
</code></pre></div>    </div>
  </li>
  <li>Provide the <code class="highlighter-rouge">client_id</code> and <code class="highlighter-rouge">client_secret</code>
as additional parameters to the POST body (<code class="highlighter-rouge">client_secret_post</code>)</li>
  <li>Provide <code class="highlighter-rouge">client_id</code> in a JWT that you sign with the <code class="highlighter-rouge">client_secret</code>
using HMAC algorithms HS256, HS384, or HS512. Specify the JWT in <code class="highlighter-rouge">client_assertion</code> and the type, <code class="highlighter-rouge">urn:ietf:params:oauth:client-assertion-type:jwt-bearer</code>, in <code class="highlighter-rouge">client_assertion_type</code> in the request.</li>
</ul>

<p>Use only one of these methods in a single request or an error will occur.</p>

<h3 id="token-claims-for-client-authentication-with-client-secret-jwt">Token Claims for Client Authentication with Client Secret JWT</h3>

<p>If you use a JWT for client authentication (<code class="highlighter-rouge">client_secret_jwt</code>), use the following token claims:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Token Claims</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">aud</td>
      <td style="text-align: left">Required. The full URL of the resource you’re using the JWT to authenticate to.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">exp</td>
      <td style="text-align: left">Required. The expiration time of the token in seconds since January 1, 1970 UTC.</td>
      <td style="text-align: left">Integer</td>
    </tr>
    <tr>
      <td style="text-align: left">jti</td>
      <td style="text-align: left">Optional. The identifier of the token.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">iat</td>
      <td style="text-align: left">Optional. The issuing time of the token in seconds since January 1, 1970 UTC.</td>
      <td style="text-align: left">Integer</td>
    </tr>
    <tr>
      <td style="text-align: left">iss</td>
      <td style="text-align: left">Required. The issuer of the token. This value must be the same as the <code class="highlighter-rouge">client_id</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
    <tr>
      <td style="text-align: left">sub</td>
      <td style="text-align: left">Required. The subject of the token. This value must be the same as the <code class="highlighter-rouge">client_id</code>.</td>
      <td style="text-align: left">String</td>
    </tr>
  </tbody>
</table>

<p>Parameter Details</p>

<ul>
  <li>If <code class="highlighter-rouge">jti</code> is specified, the token can only be used once. So, for example, subsequent token requests won’t succeed.</li>
  <li>The <code class="highlighter-rouge">exp</code> claim will fail the request if the expiration time is more than one hour in the future or has already expired.</li>
  <li>If <code class="highlighter-rouge">iat</code> is specified, then it must be a time before the request is received.</li>
</ul>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>If you run into trouble setting up an authorization server or performing other tasks for OAuth 2.0/OIDC, use the following suggestions to resolve your issues.</p>

<h3 id="start-with-the-system-log">Start with the System Log</h3>

<p>The system log contains detailed information about why a request was denied and other useful information.</p>

<h3 id="limits">Limits</h3>

<ul>
  <li>
    <p>Scopes are unique per authorization server.</p>
  </li>
  <li>
    <p>The <code class="highlighter-rouge">audiences</code> value you specify is an array of String. If the string contains “:” it must be a valid URI.</p>
  </li>
  <li>
    <p>Tokens can expire, be explicitly revoked at the endpoint, or implicitly revoked by a change in configuration.</p>
  </li>
  <li>
    <p>Token revocation can be implicit in two ways: token expiration or a change to the source.</p>
    <ul>
      <li>Expiration happens at different times:
        <ul>
          <li>ID token expires after one hour.</li>
          <li>Access token expiration is configured in a policy, but is always between five minutes and one day.</li>
          <li>Refresh Token expiration depends on two factors: 1) Expiration is configured in an Access Policy, no limits,
but must be greater than or equal to the access aoken lifetime, and 2) Revocation if the Refresh Token
isn’t exercised within a specified time. Configure the specified time in an Access Policy, with a minimum of ten minutes.</li>
        </ul>
      </li>
      <li>Revocation happens when a configuration is changed or deleted:
        <ul>
          <li>User deactivation or deletion.</li>
          <li>Configuration in the authorization server is changed or deleted.</li>
          <li>The <a href="https://help.okta.com/en/prev/Content/Topics/Apps/Apps_App_Integration_Wizard.htm#OIDCWizard">client app</a> is deactivated, changed, unassigned, or deleted.</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="subtle-behavior">Subtle Behavior</h3>

<p>Some behaviors aren’t obvious:</p>

<ul>
  <li>
    <p>A user must be assigned to the client in Okta for the client to get access tokens from that client.
You can assign the client directly (direct user assignment) or indirectly (group assignment).</p>
  </li>
  <li>
    <p>If you haven’t created a rule in a policy in the authorization server to allow the client, user, and
scope combination that you want, the request fails.
To resolve, create at least one rule in a policy in the authorization server for the relevant resource
that specifies client, user, and scope.</p>
  </li>
  <li>
    <p>OpenID Connect scopes are granted by default, so if you are requesting only those scopes ( <code class="highlighter-rouge">openid</code>, <code class="highlighter-rouge">profile</code>, <code class="highlighter-rouge">email</code>, <code class="highlighter-rouge">address</code>, <code class="highlighter-rouge">phone</code>, or <code class="highlighter-rouge">offline_access</code> ), you don’t need to define any scopes for them, but you need a policy and rule
in a Custom Authorization Server. The rule grants the OpenID Connect scopes by default, so they don’t need to be configured in the rule.
Token expiration times depend on how they are defined in the rules, and which policies and rules match the request.</p>
  </li>
  <li>
    <p>OpenID scopes can be requested with custom scopes. For example, a request can include <code class="highlighter-rouge">openid</code> and a custom scope.</p>
  </li>
  <li>
    <p>The evaluation of a policy always takes place during the initial authentication of the user (or of the client in case of client credentials flow). If the flow is not immediately finished, such as when a token is requested using <code class="highlighter-rouge">authorization_code</code> grant type, the policy is not evaluated again, and a change in the policy after the user or client is initially authenticated won’t affect the continued flow.</p>
  </li>
</ul>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
        <div class="TableOfContents-item is-level1">
          <script>
                  document.write(document.title.split('|')[0].trim());
          </script>
        </div>
        <div class="TableOfContentsLoader"></div>
      </div><!-- END Page Content -->
    </section><!-- END Page Center w/Sub Nav & Content -->

    <!-- START Footer -->
    <footer class="Footer">
    <div class="Wrap">

        <div class="Row">

            <div class="Column--3 Column--medium-6 Column--xSmall-12">
                <a href="https://www.okta.com/" target="_blank" rel="noopener noreferrer">
                    <div class="Logo">
                        <img src="https://developer.okta.com/sites/all/themes/developer/images/logo-footer.png" alt="Okta">
                    </div>
                    <p>Visit okta.com</p>
                </a>
            </div>

            <div class="Column--3 Column--medium-12 Column--xSmall-12">
                <h4>Social</h4>
                <ul class="Footer-links Footer-links--social">
                    <li><a class="Footer-links--github" target="_blank" rel="noopener noreferrer" href="http://github.com/oktadeveloper">Github</a></li>
                    <li><a class="Footer-links--twitter" target="_blank" rel="noopener noreferrer" href="http://twitter.com/OktaDev">Twitter</a></li>
                    <li><a class="Footer-links--forum" target="_blank" rel="noopener noreferrer" href="https://devforum.okta.com/">Forum</a></li>
                    <li><a class="Footer-links--rss" target="_blank" rel="noopener noreferrer" href="http://feeds.feedburner.com/OktaBlog">RSS Blog</a></li>
                </ul>
            </div>

            <div class="Column--3 Column--medium-6 Column--small-12">
                <h4>More Info</h4>
                <ul class="Footer-links">
                    <li><a target="_blank" href="https://developer.okta.com/integrate-with-okta/">Integrate with Okta</a></li>
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/docs/change-log/">Change Log</a></li>
                    <li><a href="/3rd_party_notices/">3rd Party Notices</a></li>
                </ul>
            </div>

            <div class="Column--3 Column--medium-6 Column--small-12">
                <h4>Contact &amp; Legal</h4>
                <ul class="Footer-links">
                    <li><a href="https://developer.okta.com/contact/">Contact Sales</a></li>
                    <li><a target="_blank" rel="noopener noreferrer" href="mailto:developers@okta.com">Contact Support</a></li>
                    <li><a href="https://developer.okta.com/terms/">Terms &amp; Conditions</a></li>
                    <li><a href="https://developer.okta.com/privacy/">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script type="text/javascript" src="/assets/master-aa397c892d9083236c5cb20732dde679021b9236c8142ce78177b8b184567a02.js"></script>
    <script type="text/javascript" src="/assets/myOkta-911cbafbbe079b7a5522d9cbe15bd2a5f44e1582531e88393934bec69f97696b.js"></script>
    
    
    
    
      <script type="text/javascript" src="/assets/docs-0af8e0751a2375ff1b4d8e8ddf6a1b7ffd864bd473116861d71f541c4859329e.js"></script>
    

    <!-- END Footer -->
  </div>
  <!-- START Post Footer -->
  
  <!-- START Google Tag Manager -->
  <!-- https://support.google.com/tagmanager/answer/6103696?hl=en -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- END Google Tag Manager -->
  <!-- START Google Remarketing Tag -->
  <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1006913831;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
  </script>
  <div style="display:none;"><script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script></div>
  <noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript>
  <!-- END Google Remarketing Tag -->
  <!-- START Crazy Egg Tracking -->
  <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>
  <!-- END Crazy Egg Tracking -->

  <!-- END Post Footer -->
</body>
</html>
