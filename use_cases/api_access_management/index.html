<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
  <script>
    var searchDomain = 'https://developer.okta.com';
    var isProduction = window.location.hostname === 'developer.okta.com';
    if (isProduction) {
      // TypeKit
      (function(d) {
        var config = {
          kitId: 'jff5neq',
          scriptTimeout: 3000,
          async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/bwf-loadingb/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
      })(document);

      // Google analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-15777010-3', 'auto');
      ga('send', 'pageview');

      // START Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TJ45R6');
      // END Google Tag Manager

      // Start Heap Analytics
      window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
      heap.load("3356162945");
      // End Heap Analytics
    }
  </script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
   

  <link type="text/css" rel="stylesheet" href="https://developer.okta.com/sites/all/themes/developer/css/master.css" media="all" />
  <meta class="swiftype" name="title" data-type="string" content="API Access Management | Okta Developer">
  <meta class="swiftype" name="summary" data-type="string" content="Secure your APIs with Okta's implementation of ..." />

  <link type="text/css" rel="stylesheet" href="/assets/animate-ec43d72c3ed45e08a460b8a2966d8dba6006aebfa0530935c3973fa493a8771f.css">
  <link type="text/css" rel="stylesheet" href="/assets/okta-4cdd13e8e2d1b92407eb31809cf09b924e2389ccdb14cd31623506ebbdf9f086.css">
  
  
  <title>API Access Management | Okta Developer</title>
  <meta name="description" content="Secure your APIs with Okta's implementation of ...">
  <link rel="alternate" type="application/rss+xml" title="Okta Developer" href="https://developer.okta.com/feed.xml"><!-- GA -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicon/manifest.json">
  <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#21313a">
  <meta name="msapplication-config" content="/assets/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
</head>

<body>
  <div class="Page api-access-management Page--docs-page">
    <!-- START Header -->
    




<header class="Header is-fixed">

  <div class="Wrap">

    <a class="Logo" href="https://developer.okta.com">
      <svg version="1.1" id="OktaLogo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 431.9 151.4" style="enable-background:new 0 0 431.9 151.4;" xml:space="preserve"><g><g><g><path d="M102.2,41.4c-21,0-38.1,17.1-38.1,38.1s17.1,38.1,38.1,38.1s38.1-17.1,38.1-38.1l0,0C140.3,58.5,123.2,41.4,102.2,41.4z M102.2,98.5c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19c0.1,10.5-8.4,19-18.9,19.1C102.3,98.6,102.2,98.6,102.2,98.5L102.2,98.5z"/><path d="M169.1,92.3c0-1.9,1.5-3.4,3.4-3.4c0.9,0,1.8,0.4,2.4,1c9.5,9.7,25.3,26.3,25.4,26.4c0.4,0.5,0.8,0.8,1.4,0.9l1.6,0.2h17.2c1.8,0,3.3-1.4,3.4-3.2c0-0.8-0.3-1.5-0.8-2.2l-28.6-29.2l-1.5-1.5c-3.2-3.9-2.9-5.4,0.8-9.3l22.6-25.1c1.1-1.4,0.8-3.5-0.6-4.6c-0.6-0.4-1.3-0.7-2-0.7h-17c-0.6,0.2-1.1,0.5-1.5,0.9L175,64.4c-1.3,1.4-3.4,1.5-4.8,0.2c-0.7-0.6-1.1-1.5-1.1-2.5V18.9c0-1.7-1.3-3-3-3c-0.1,0-0.2,0-0.3,0h-12.7c-2.2,0-3.3,1.5-3.3,2.8v95.8c0,2.2,1.8,2.8,3.3,2.8h12.7c1.7,0.1,3.2-1.2,3.3-2.9c0,0,0,0,0,0V92.3z"/><path d="M273,114l-1.4-12.8c-0.2-1.7-1.7-2.9-3.4-2.7c0,0,0,0-0.1,0l-2.9,0.2c-10.1,0-18.5-7.9-19-18c0-0.3,0-0.7,0-1V64.2c-0.1-2,1.5-3.6,3.5-3.7c0,0,0,0,0,0h17c1.7-0.1,3.1-1.5,3-3.2c0,0,0-0.1,0-0.1v-12c0-2.3-1.5-3.6-2.8-3.6h-17.1c-1.9,0.1-3.5-1.5-3.6-3.4c0,0,0,0,0,0V18.9c-0.1-1.7-1.5-3.1-3.2-3c0,0-0.1,0-0.1,0h-12.7c-1.6-0.1-3,1.1-3.1,2.7c0,0.1,0,0.1,0,0.2c0,0,0,61.7,0,62c0.5,21,17.9,37.6,38.9,37c1.4,0,2.9-0.2,4.3-0.3C272,117.2,273.2,115.7,273,114z"/></g><path d="M364.7,98c-10.8,0-12.4-3.8-12.4-18.3l0,0V44.8c0-1.8-1.4-3.2-3.2-3.2c0,0-0.1,0-0.1,0h-12.8c-1.8,0-3.2,1.4-3.3,3.2v1.6C314.6,36,291.3,42.5,281,60.8c-10.4,18.3-3.9,41.6,14.4,51.9c14,7.9,31.4,6.2,43.5-4.2c3.6,5.5,9.3,9.1,18.3,9.1c1.5,0,9.7,0.3,9.7-3.5v-13.6C367,99.2,366,98.1,364.7,98z M314.2,98.6c-10.5,0-19-8.5-19-19s8.5-19,19-19s19,8.5,19,19l0,0C333.2,90.1,324.7,98.6,314.2,98.6z"/></g><path d="M19.4,74c2.2-1.9,4.1-4.1,5.7-6.6c3.5-5.3,5.4-11.5,5.2-17.9V27c0-4.9,0.9-8.4,2.7-10.5c1.8-2.1,4.8-3,9.2-3h12.6c1.2,0,2.1-0.9,2.2-2.1l0,0V2.2C57,1,56,0,54.8,0c0,0,0,0,0,0H41.5c-7.8,0-12.9,2.1-18,7.6s-7.1,12.3-7.1,21.7v14.2c0,2.2-0.1,4-0.2,5.7v2.2c-0.5,3.2-1.8,6.2-3.6,8.9C9.4,64.7,5.1,70.9,0.9,74l0,0l-0.3,0.3l0,0l-0.2,0.3H0.2v0.3l0,0c-0.1,0.3-0.1,0.7,0,1l0,0v0.3h0.1l0.2,0.3l0,0l0.3,0.3l0,0c4.2,3.1,8.5,9.3,11.3,13.7c1.8,2.7,3.1,5.7,3.6,8.9v2.2c0.1,1.6,0.2,3.5,0.2,5.7v14.3c0,9.4,2.4,16.7,7.1,21.7s10.2,7.6,18,7.6h13.8c1.2,0,2.2-1,2.2-2.2V140l0,0c0-1.2-1-2.2-2.2-2.2H42.2c-4.4,0-7.5-1-9.2-3s-2.7-5.6-2.7-10.5v-22.4c0.2-6.4-1.7-12.6-5.2-17.9c-1.6-2.5-3.5-4.7-5.7-6.6l0,0c-0.9-0.7-1.1-2-0.4-2.9C19.2,74.3,19.3,74.2,19.4,74L19.4,74z"/><path d="M412.5,74c-2.2-1.9-4.1-4.1-5.7-6.6c-3.5-5.3-5.4-11.5-5.2-17.9V27c0-4.9-0.9-8.4-2.7-10.5s-4.8-3-9.2-3h-12.6c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0l0,0V2.2c0-1.2,1-2.2,2.2-2.2c0,0,0,0,0,0h13.4c7.8,0,12.9,2.1,18,7.6s7.1,12.3,7.1,21.7v14.2c0,2.2,0.1,4,0.2,5.7v2.2c0.5,3.2,1.8,6.2,3.6,8.9c2.8,4.5,7.1,10.7,11.3,13.7l0,0l0.3,0.3l0,0l0.2,0.3h0.1v0.3l0,0c0.1,0.3,0.1,0.7,0,1l0,0v0.3h-0.1l-0.2,0.3l0,0l-0.3,0.3l0,0c-4.2,3.1-8.5,9.3-11.3,13.7c-1.8,2.7-3.1,5.7-3.6,8.9v2.2c-0.1,1.6-0.2,3.5-0.2,5.7v14.3c0,9.4-2.4,16.7-7.1,21.7s-10.2,7.6-18,7.6h-13.4c-1.2,0-2.2-1-2.2-2.2c0,0,0,0,0,0V140l0,0c0-1.2,1-2.2,2.2-2.2l0,0h12.7c4.4,0,7.5-1,9.2-3s2.7-5.6,2.7-10.5v-22.4c-0.2-6.3,1.6-12.6,5.1-17.9c1.6-2.5,3.5-4.7,5.7-6.6l0,0c0.9-0.7,1.1-2,0.4-2.9C412.7,74.3,412.6,74.2,412.5,74L412.5,74z"/></g></svg>
    </a>

    <nav class="Header-nav PrimaryNav">
      <ul class="menu">
        <li class="first expanded">
          <a href="https://developer.okta.com/product/">Product</a>
          <ul class="menu">
            <li class="first leaf"><a href="https://developer.okta.com/product/">Overview</a></li>
            <li class="leaf"><a href="https://developer.okta.com/product/authentication/">Authentication</a></li>
            <li class="leaf"><a href="https://developer.okta.com/product/authorization/">Authorization</a></li>
            <li class="last leaf"><a href="https://developer.okta.com/product/user-management/">User Management</a></li>
          </ul>
        </li>
        <li class="leaf">
          <a href="https://developer.okta.com/pricing/">Pricing</a>
        </li>
        <li class="leaf">
          <a href="/blog/">Blog</a>
        </li>
        <li class="leaf">
          <a href="/documentation/" class="active">Docs</a>
        </li>
        <li class="last expanded">
          <span class="nolink">Support</span>
          <ul class="menu">
            <li class="first leaf"><a href="https://devforum.okta.com/">Okta Developer Forums</a></li>
            <li class="last leaf"><a href="mailto:developers@okta.com">developers@okta.com</a></li>
          </ul>
        </li>
      </ul>
      <a class="PrimaryNav-toggle" href="#">
        <svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g class="MenuIcon" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
                <path d="M1,16 L19,16" class="MenuIcon-line1" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,4 L19,4" class="MenuIcon-line2" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,10 L19,10" class="MenuIcon-line3" stroke="#FFFFFF" stroke-width="2"></path>
                <path d="M1,10 L19,10" class="MenuIcon-line4" stroke="#FFFFFF" stroke-width="2"></path>
            </g>
        </svg>
        <svg class="CloseIcon" width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="ALl-Boards" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <g id="Desktop" transform="translate(-915.000000, -235.000000)" fill="#FFFFFF">
              <g id="Search-bar-Active" transform="translate(30.000000, 26.000000)">
                <polygon id="Icon/Cross" points="901 210.6 899.4 209 893 215.4 886.6 209 885 210.6 891.4 217 885 223.4 886.6 225 893 218.6 899.4 225 901 223.4 894.6 217"></polygon>
              </g>
            </g>
          </g>
        </svg>
      </a>

      <div class="PrimaryNav-cta">
        <a target="_blank" rel="noopener noreferrer" href="https://login.okta.com/?SAMLRequest=fc%2B7CsJAEAXQXvAflu1NNJUMeZBGELTx1a%2FrYILJTtyZGD%2FfSBRiYzlw77lMnD3rSj3Qc0ku0YtgrhU6S5fSXRN9PKxmS52l00nMpq6iBvJWCrfDe4ss6vStRe9aDzmGIZfo1jsgwyWDMzUyiIV9vt1AH4XGk5ClSvewUgMNa%2BYW%2FVj5jxhm9NLP67QQaSAMu64L6CYmsFSHlnzT4ZlLwTgcL6Sf8%2FeX9AU%3Dhttps://login.okta.com/?SAMLRequest=fc%2B7CsJAEAXQXvAflu1NNJUMeZBGELTx1a%2FrYILJTtyZGD%2FfSBRiYzlw77lMnD3rSj3Qc0ku0YtgrhU6S5fSXRN9PKxmS52l00nMpq6iBvJWCrfDe4ss6vStRe9aDzmGIZfo1jsgwyWDMzUyiIV9vt1AH4XGk5ClSvewUgMNa%2BYW%2FVj5jxhm9NLP67QQaSAMu64L6CYmsFSHlnzT4ZlLwTgcL6Sf8%2FeX9AU%3D" class="Button--redOutline">Login</a>
        <a href="https://developer.okta.com/signup/" class="Button--red">Sign up</a>
      </div>

      <a class="SearchIcon" href="#"></a>
      <form id="form_search" class="SearchBar Formisimo_clocked_69929" method="get" action="https://developer.okta.com/search/" name="form_search" __bizdiag="-784164280" __biza="WJ__">
        <input type="text" name="stq" autocomplete="off" id="st-search-input-auto" class="st-search-input" placeholder="Search">
        <input type="submit" name="submit" value="GO">
      </form>

    </nav>

  </div>

</header>

    <!-- END Header -->
     <!-- START Page Center w/Sub Nav & Content -->
    <section class="PageContent DynamicSidebar has-tableOfContents">
      <!-- START Fixed sidebar --><aside class="Sidebar">
  <h2 class="Sidebar-location Sidebar-toggle h6">Navigation</h2>
  <div class="Sidebar-close Sidebar-toggle"></div>
  <div>
    <h3 class="Sidebar-title"><a href = "/authentication-guide/">Authentication Guide</a></h3>
    <ul class="Sidebar-nav">
      <li>
        <a href = "/authentication-guide/auth-overview/">OAuth 2.0 Overview</a>
        
      </li>
      <li>
        <a href = "/authentication-guide/implementing-authentication/">Implementing OAuth 2.0</a>
        
      </li>
      <li>
      <a href = "/authentication-guide/social-login/">Social Login</a>
      
      </li>
      <li>
      <a href = "/authentication-guide/saml-login/">SAML Login</a>
      
      </li>
      <li>
      <a href = "/authentication-guide/tokens/">Working With Tokens</a>
      
      </li>
      <!--
      <li>
      <a href = "/authentication-guide/custom-login/">Customizing Login</a>
      
      </li>
    -->
    </ul>

    <h3 class="Sidebar-title">Use Cases</h3>
    <ul class="Sidebar-nav">
      <li>
        <a href="/use_cases/authentication/">Authentication</a>
      </li>
      <li>
        <a href="/use_cases/mfa/">Multi-Factor Authentication</a>
      </li>
      <li class="is-active">
        <a href="/use_cases/api_access_management/">API Access Management</a>
      </li>
      <li>
        <a href="/use_cases/integrate_with_okta/">Integrate with Okta</a>
      </li>
      <li>
        <a href="/use_cases/relationships/">Relationships with Linked Objects</a>
      </li>
    </ul>

    <h3 class="Sidebar-title">Reference</h3>
    <ul class="Sidebar-nav">
      <li>
        <a href="/docs/api/getting_started/api_test_client">Getting Started</a>
      </li>
      <li>
        <a href="/docs/api/resources/authn">Authentication API</a>
      </li>
      <li>
        <a href="/docs/api/resources/apps">Management API</a>
      </li>
      <li>
        <a href="/reference/error_codes/">Error Codes</a>
      </li>
      <li>
        <a href="/reference/okta_expression_language/">Okta Expression Language</a>
      </li>
      <li>
        <a href="/docs/change-log/index.html">Change Log</a>
      </li>
    </ul>

    <h3 class="Sidebar-title">How-To</h3>
    <ul class="Sidebar-nav">
      
      
      <li>
        <a href="/docs/how-to/byo_saml">Upload Your Own Certificates for Outbound SAML Apps</a>
      </li>
      
      <li>
        <a href="/docs/how-to/creating-token-with-groups-claim">Create an ID Token or Access Token Containing a Groups Claim</a>
      </li>
      
      <li>
        <a href="/docs/how-to/sharing-cert">Share Application Key Credentials for IdPs Across Apps</a>
      </li>
      
      <li>
        <a href="/docs/how-to/updating_saml_cert">Upgrade SAML Apps to SHA256</a>
      </li>
      
    </ul>

    <h3 class="Sidebar-title">Standards</h3>
    <ul class="Sidebar-nav">
      
      
      
      <li>
        <a href="/standards/OAuth/">OAuth 2.0 and Okta</a>
      </li>
      
      
      <li>
        <a href="/standards/OIDC/">OpenID Connect and Okta</a>
      </li>
      
      
      <li>
        <a href="/standards/SAML/">SAML</a>
      </li>
      
      
      
      
      <li>
        <a href="/standards/SCIM/">SCIM Provisioning with Lifecycle Management</a>
      </li>
      
    </ul>

    <script>
      if (document.querySelectorAll("#Sidebar_Resources .is-active").length) {
        document.getElementById('Sidebar_Resources').classList.remove('Sidebar-hide');
      }

      if (document.querySelectorAll("#Sidebar_References .is-active").length) {
        document.getElementById('Sidebar_References').classList.remove('Sidebar-hide');
      }
    </script>
  </div>
</aside>
<!-- END Fixed sidebar -->
      <!-- START Page Content -->
      <div class="PageContent-main" id="docs-body">
        <a id="edit-link" href="https://github.com/okta/okta.github.io/edit/source/_source/_use_cases/api_access_management/index.md" data-proofer-ignore>Edit Page</a>
      <h2 id="api-access-management-with-okta">API Access Management with Okta</h2>

<p>Use API Access Management, Okta’s implementation of the OAuth 2.0 standard, to secure your APIs.
API Access Management is integrated with Okta’s implementation of OpenID Connect for authentication;
OpenID Connect is also available separately. Similarly, Okta provides a client management API
for onboarding, monitoring, and deprovisioning client apps.</p>

<h2 id="oauth-20-and-openid-connect">OAuth 2.0 and OpenID Connect</h2>

<p>When do you use API Access Management and when do you use OpenID Connect?</p>

<h2 id="simple-use-cases">Simple Use Cases</h2>

<p>In general, use OpenID Connect to sign users into apps, and use API Access Management to secure your APIs:
create one or more Custom Authorization Servers, define scopes and claims, and create policies and rules to determine who can access your API resources.</p>

<p>For example:</p>

<ul>
  <li>Use Case 1 (API Access Management): You need to control API access for a variety of consumers: vendors, employees, and customers, for example.</li>
  <li>Use Case 2 (OpenID Connect): You want users to sign into your custom web application to access their account.</li>
</ul>

<h2 id="complex-use-cases">Complex Use Cases</h2>

<p>You can also specify authorization servers in your OpenID Connect API calls.
Every OpenID resource is also available in a version that lets you specify an authorization server that you created in Okta.
See <a href="#oauth-20-and-openid-connect">OAuth 2.0 and OpenID Connect</a> for details.</p>

<h1 id="benefits-of-api-access-management">Benefits of API Access Management</h1>

<p>Centralizing the management of your APIs makes it easier for others to consume your API resources.
Using Okta’s OAuth-as-a-Service feature, API Access Management, provides many benefits:</p>

<ul>
  <li>Create one or more <a href="/standards/OAuth/#authorization-servers">Custom Authorization Servers</a>, hosted on Okta. Custom Authorization Servers make it easier to manage sets of API access for multiple client apps across many customer types.</li>
  <li>Create custom scopes and claims. Map your claims to the profiles in your user directory.</li>
  <li>Tokens are passed instead of credentials. In addition, the JWT tokens carry payloads for user context.</li>
  <li>Stay protected with security standards compliance.</li>
  <li>Manage API access with rules. Specifying the conditions under which actions are taken gives you precise and confident control over your APIs.</li>
  <li>Control complex business requirements with polices and rules. You control the ordering and relationships.</li>
  <li>Enjoy the highest quality, always-available API Access Management.</li>
  <li>Let Okta do the work of consuming standards changes to provide more or better services.</li>
</ul>

<blockquote>
  <p>Note: In some places we have implemented stricter requirements or behaviors for additional security.</p>
</blockquote>

<h1 id="putting-the-pieces-together">Putting the Pieces Together</h1>

<p>The following is a high-level look at the basic components of API Access Management.
We use the same terms as the OpenID Connect and OAuth 2.0 spec. For complete explanations, read those specs.</p>

<h2 id="tokens-and-scopes">Tokens and Scopes</h2>

<p>The two biggest security benefits of OAuth are using tokens instead of passing credentials and restricting the scope of tokens.
Both of these measures go a long way toward mitigating the impact of a security compromise.</p>

<ul>
  <li>Sending usernames and passwords around is like putting all of your eggs in one basket. By using credentials to obtain a token,
  if someone gains access to the token, they may be able to use it for a short time, but they haven’t compromised the user’s identity.</li>
  <li>Controlling what a token is entitled to access further limits damage in case of compromise. For example, scoping a token for shoppers
  on a web site, and not allowing them access to change prices, provides significant mitigation.</li>
</ul>

<p>Okta helps you manage ID Tokens (OpenID Connect) and Access Tokens (OAuth 2.0).</p>

<h2 id="custom-claims">Custom Claims</h2>

<p>The JWT extension to the OAuth Framework lets you include custom claims in ID and Access Tokens.
You can design tokens to disclose the information you want to share depending on the client and the scope of the tokens.
For example, a shopping site might have one set of claims for customers while they browse, but another claim for administrator functions
like changing their personal information.</p>

<p>Custom claims also help you by reducing the number of lookup calls required to retrieve user information from the identity provider (IdP).
This benefit depends, of course, on the level of security your apps require.</p>

<h1 id="getting-started-with-api-access-management">Getting Started with API Access Management</h1>

<ul>
  <li><a href="/standards/OAuth/">Learn more</a> about Okta and OAuth 2.0.</li>
  <li><a href="https://help.okta.com/en/prev/Content/Topics/Security/API_Access.htm">Set up a custom authorization server</a> and use the power of Okta’s API Access Management.</li>
  <li>Visit <a href="/docs/api/resources/oidc">the OIDC/OAuth 2.0 endpoint documentation</a> and start building your integration today.</li>
  <li>For simpler use cases focused on SSO, visit <a href="/docs/api/resources/oidc">the OpenID Connect documentation</a>.</li>
</ul>

<h2 id="recommended-practices-for-api-access-management">Recommended Practices for API Access Management</h2>

<p>API Access Management, or OAuth as a Service, extends Okta’s security policies, Universal Directory, and user provisioning into APIs, while providing well-defined OAuth interfaces for developers. Further, while many of our customers use dedicated API gateways such as Apigee or Mulesoft, API Access Management can be used equally well with or without a gateway.</p>

<p>This document represents our recommendations for proper usage based on the OAuth 2.0 specifications, our design decisions, security best practices, and successful customer deployments. Your requirements and constraints may be different, so not every recommendation fits every situation. However, most recommendations fit most scenarios.</p>

<blockquote>
  <p>All interactions and redirects between the user, the application, and Okta must be secured via HTTPS (SSL/TLS) to ensure credentials and tokens are protected at all times. This is non-negotiable.</p>
</blockquote>

<h3 id="definitions">Definitions</h3>

<p>An API Product is a group of API endpoints offered together to satisfy a particular set of related use cases. For example, a bank may have a Home Loan API Product and a Personal Line of Credit API Product, both of which use some of the same underlying APIs.</p>

<p>Okta API Products refers to all the resources and tools that Okta makes available.</p>

<h3 id="recommendations">Recommendations</h3>

<ul>
  <li><a href="#api-access-management-administrator-role">API Access Management Administrator Role</a></li>
  <li><a href="#oauth-client">OAuth Client</a></li>
  <li><a href="#authorization-server">Authorization Server</a></li>
  <li><a href="#api-gateway-optional">API Gateway (optional)</a></li>
  <li><a href="#securing-applications">Securing Applications</a></li>
  <li><a href="#resource-api-servers">Resource (API) Servers</a></li>
</ul>

<h4 id="api-access-management-administrator-role">API Access Management Administrator Role</h4>

<p>Okta provides the API Access Management Administrator role to make managing authorization servers. A user with this role can perform the following tasks:</p>

<ul>
  <li>Create and edit authorization servers, scopes, custom claims, and access policies</li>
  <li>Create and edit  OAuth 2.0 and OpenID Connect client apps</li>
  <li>Assign users and groups to OAuth 2.0 and OpenID Connect client apps</li>
</ul>

<h4 id="oauth-client">OAuth Client</h4>

<ul>
  <li>A client secret is a password. Protect it as you would any other password.</li>
  <li>Configure clients to support only the grant types that are required by the specific use cases under development. Disable all other grant types.</li>
  <li>Within Okta, only assigned users and groups can authenticate with a client (application). Use the <strong>Everyone</strong> group only when necessary.</li>
  <li>Okta sends tokens and authorization codes to a redirect URI (bound to the application’s client ID) only if it is on the whitelist. Therefore, limit this list to URIs in active use.</li>
</ul>

<h4 id="authorization-server">Authorization Server</h4>

<ul>
  <li>
    <p>Assign an authorization server to specific OAuth 2.0 clients. Use the <strong>All Clients</strong> option only if no other solution is possible.</p>
  </li>
  <li>
    <p>Assign one authorization server per API Product. Doing so allows teams to maintain separate authorization policies and token expiration times while eliminating scope name collisions. Authorization servers often reflect use cases at the orchestration layer, not individual endpoints. For example, a banking institution may use one authorization server with a short-lived access token for money transfers but a separate authorization server with a long-lived access token for read-only transaction sync to QuickBooks.</p>
  </li>
  <li>
    <p>Make the authorization server audience (the <code class="highlighter-rouge">aud</code> claim) specific to the API to reduce the risk of inappropriate access token reuse. A single global audience is rarely acceptable. For example: Instead of using <code class="highlighter-rouge">api.company.com</code> for the audience, a better approach is specifying <code class="highlighter-rouge">api.company.com/product1</code> and <code class="highlighter-rouge">api.company.com/product2</code>.</p>
  </li>
  <li>
    <p>Define scopes within authorization servers that are granular and specific to the permissions required. A generic administrator scope is rarely appropriate. Java-style namespacing such as <code class="highlighter-rouge">com.okta.product1.admin</code> or Google’s URL-based style such as <code class="highlighter-rouge">https://company.com/scopes/product1.admin</code> are common and scalable approaches.</p>
  </li>
  <li>
    <p>Authorization policies and rules are treated as a case or switch statement. Therefore, when a matching rule is found, it is applied and the result is immediately returned. No further rules are executed.</p>

    <ul>
      <li>
        <p>If a request generates unexpected scopes, it is because of a overly broad rule within the authorization server.</p>
      </li>
      <li>
        <p>An OAuth 2.0 client can be assigned to any number of authorization servers. Doing so provides for a variety of tokens to be generated, each with separate authorization policies, token expiration times, and scopes. The audience claim (<code class="highlighter-rouge">aud</code>) and client ID claim (<code class="highlighter-rouge">cid</code>) identify which token maps to which API Product.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>OAuth clients and authorization servers can be assigned on a many-to-many basis. This allows a developer to use a single OAuth Client to retrieve access tokens from different authorization servers depending on the use case. The only difference is the endpoints accessed and the scopes requested.</p>
  </li>
  <li>
    <p>Configure the access token lifetime to reflect the security requirements of the use case. For example, an access token for a banking API may include a <code class="highlighter-rouge">transactions:read</code> scope with a multi-hour lifetime. By contrast, the lifetime of an access token for transferring funds should be only a matter of minutes.</p>
  </li>
</ul>

<h4 id="api-gateway-optional">API Gateway (optional)</h4>

<ul>
  <li>Access tokens should be used exclusively via an HTTP Authorization header instead of encoded into a payload or URL which may be logged or cached.</li>
  <li>When a gateway successfully validates an access token, cache the result until the expiration time (<code class="highlighter-rouge">exp</code> claim). Do this for validation that is either <a href="/standards/OAuth/#validating-access-tokens">local</a> or via the <a href="/docs/api/resources/oidc#introspect">introspection endpoint</a>.</li>
  <li>When a gateway retrieves the JWKS (public keys) to validate a token, it should cache the result until a new or unknown key is referenced in a token.</li>
  <li>
    <p>If the gateway is performing endpoint or HTTP verb-level authorization using scopes, the scopes must be defined and granted in the Okta authorization server or custom authorization server before being used in the gateway.</p>

    <p><strong>Note:</strong> If a user requests scopes from the authorization server which haven’t been configured, an error is returned.</p>
  </li>
</ul>

<h4 id="securing-applications">Securing Applications</h4>

<ul>
  <li>Access tokens and refresh tokens are sensitive and should be protected as such. They should never be stored in client-side or frontend code.</li>
  <li>A client (application) should never inspect the contents of an access token. For example, do not customize the client’s UI based on scopes in the access token.</li>
  <li>Access tokens should be used exclusively via an HTTP Authorization header instead of encoded into a payload or URL which may be logged or cached.</li>
  <li>A client secret is a password and should be treated and protected as such. Therefore, it should not be embedded in mobile applications, frontend JavaScript applications, or any other scenario where an attacker could access it.</li>
  <li>Avoid using the resource owner password grant type (<code class="highlighter-rouge">password</code>) except in legacy application or transitional scenarios. The authorization code, implicit, or hybrid grant types are recommended in most scenarios.</li>
  <li>For mobile applications, using the authorization code grant type with PKCE is the best practice. The implicit or hybrid grant type is the next best option.</li>
  <li>For Android or iOS applications, use the <a href="https://openid.github.io/AppAuth-iOS/">AppAuth for iOS</a> and <a href="https://openid.github.io/AppAuth-Android/">AppAuth for Android</a> libraries from the OpenID Foundation.</li>
  <li>When an application successfully validates an access token, cache the result until the expiration time (<code class="highlighter-rouge">exp</code>). Do this for validation that is either <a href="/standards/OAuth/#validating-access-tokens">local</a> or via the <a href="/docs/api/resources/oidc#introspect">introspection endpoint</a>.</li>
  <li>
    <p>When an application retrieves the JWKS (public keys) to validate a token, it should cache the result until a new or unknown key is referenced in a token.</p>
  </li>
  <li>Never use an access token granted from the Okta organization authorization server for authorization within your applications. These tokens are intended for use with Okta and cannot be validated within your application. Instead, use tokens granted from a custom authorization server. Read more about the various types of authorization servers in the <a href="/standards/OAuth/#authorization-servers">OAuth 2.0 and Okta documentation</a>.</li>
</ul>

<h4 id="resource-api-servers">Resource (API) Servers</h4>

<ul>
  <li>Accept access tokens only via an HTTP Authorization header. Don’t encode tokens into a payload or URL which may be logged or cached.</li>
  <li>A resource server must confirm that the audience claim (<code class="highlighter-rouge">aud</code>) and client ID claim (<code class="highlighter-rouge">cid</code>) match the expected audience and client ID.</li>
  <li>When a resource server successfully validates an access token, cache the result until the expiration time (<code class="highlighter-rouge">exp</code>). Do this for validation that is either <a href="/standards/OAuth/#validating-access-tokens">local</a> or via the <a href="/docs/api/resources/oidc#introspect">introspection endpoint</a>.</li>
</ul>

      </div>
      <div class="TableOfContents TableOfContentsPreload">
        <div class="TableOfContents-item is-level1">
          <script>
                  document.write(document.title.split('|')[0].trim());
          </script>
        </div>
        <div class="TableOfContentsLoader"></div>
      </div><!-- END Page Content -->
    </section><!-- END Page Center w/Sub Nav & Content -->

    <!-- START Footer -->
    <footer class="Footer">
    <div class="Wrap">

        <div class="Row">

            <div class="Column--3 Column--medium-6 Column--xSmall-12">
                <a href="https://www.okta.com/" target="_blank" rel="noopener noreferrer">
                    <div class="Logo">
                        <img src="https://developer.okta.com/sites/all/themes/developer/images/logo-footer.png" alt="Okta">
                    </div>
                    <p>Visit okta.com</p>
                </a>
            </div>

            <div class="Column--3 Column--medium-12 Column--xSmall-12">
                <h4>Social</h4>
                <ul class="Footer-links Footer-links--social">
                    <li><a class="Footer-links--github" target="_blank" rel="noopener noreferrer" href="http://github.com/oktadeveloper">Github</a></li>
                    <li><a class="Footer-links--twitter" target="_blank" rel="noopener noreferrer" href="http://twitter.com/OktaDev">Twitter</a></li>
                    <li><a class="Footer-links--forum" target="_blank" rel="noopener noreferrer" href="https://devforum.okta.com/">Forum</a></li>
                    <li><a class="Footer-links--rss" target="_blank" rel="noopener noreferrer" href="http://feeds.feedburner.com/OktaBlog">RSS Blog</a></li>
                </ul>
            </div>

            <div class="Column--3 Column--medium-6 Column--small-12">
                <h4>More Info</h4>
                <ul class="Footer-links">
                    <li><a target="_blank" href="https://developer.okta.com/integrate-with-okta/">Integrate with Okta</a></li>
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/docs/change-log/">Change Log</a></li>
                    <li><a href="/3rd_party_notices/">3rd Party Notices</a></li>
                </ul>
            </div>

            <div class="Column--3 Column--medium-6 Column--small-12">
                <h4>Contact &amp; Legal</h4>
                <ul class="Footer-links">
                    <li><a href="https://developer.okta.com/contact/">Contact Sales</a></li>
                    <li><a target="_blank" rel="noopener noreferrer" href="mailto:developers@okta.com">Contact Support</a></li>
                    <li><a href="https://developer.okta.com/terms/">Terms &amp; Conditions</a></li>
                    <li><a href="https://developer.okta.com/privacy/">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

    <script type="text/javascript" src="/assets/master-aa397c892d9083236c5cb20732dde679021b9236c8142ce78177b8b184567a02.js"></script>
    <script type="text/javascript" src="/assets/myOkta-911cbafbbe079b7a5522d9cbe15bd2a5f44e1582531e88393934bec69f97696b.js"></script>
    
    
    
    
      <script type="text/javascript" src="/assets/docs-0af8e0751a2375ff1b4d8e8ddf6a1b7ffd864bd473116861d71f541c4859329e.js"></script>
    

    <!-- END Footer -->
  </div>
  <!-- START Post Footer -->
  
  <!-- START Google Tag Manager -->
  <!-- https://support.google.com/tagmanager/answer/6103696?hl=en -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- END Google Tag Manager -->
  <!-- START Google Remarketing Tag -->
  <script type="text/javascript">
    /* <![CDATA[ */
    var google_conversion_id = 1006913831;
    var google_custom_params = window.google_tag_params;
    var google_remarketing_only = true;
    /* ]]> */
  </script>
  <div style="display:none;"><script type="text/javascript" src="//www.googleadservices.com/pagead/conversion.js"></script></div>
  <noscript><div style="display:inline;"><img height="1" width="1" style="border-style:none;" alt="" src="//googleads.g.doubleclick.net/pagead/viewthroughconversion/1006913831/?value=0&amp;guid=ON&amp;script=0"></div></noscript>
  <!-- END Google Remarketing Tag -->
  <!-- START Crazy Egg Tracking -->
  <script type="text/javascript">
    setTimeout(function(){var a=document.createElement("script");
    var b=document.getElementsByTagName("script")[0];
    a.src=document.location.protocol+"//script.crazyegg.com/pages/scripts/0021/9333.js?"+Math.floor(new Date().getTime()/3600000);
    a.async=true;a.type="text/javascript";b.parentNode.insertBefore(a,b)}, 1);
  </script>
  <!-- END Crazy Egg Tracking -->

  <!-- END Post Footer -->
</body>
</html>
